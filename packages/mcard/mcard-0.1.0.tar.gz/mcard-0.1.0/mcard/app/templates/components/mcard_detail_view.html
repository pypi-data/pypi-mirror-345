<div id="mcardDetailView" class="h-full flex flex-col bg-white border-l">
    {% if card %}
    <div class="p-4 border-b">
        <div class="space-y-2">
            <div class="flex items-center space-x-2">
                <span class="text-gray-500">Hash:</span>
                <span class="font-mono">{{ card.hash }}</span>
            </div>
            <div class="flex items-center space-x-2">
                <span class="text-gray-500">Time:</span>
                <span>{{ card.g_time }}</span>
            </div>
            <div class="flex items-center space-x-2">
                <span class="text-gray-500">Type:</span>
                <span>{{ card.get_content_type() }}</span>
            </div>
        </div>
    </div>
    
    <div class="flex-1 overflow-auto p-4">
        {% set content_type = card.get_content_type() %}
        {% if content_type.startswith('image/') %}
            <img src="data:{{ content_type }};base64,{{ card.get_content() | b64encode }}" 
                 alt="Image content" 
                 class="max-w-full h-auto">
        {% elif content_type == 'application/pdf' %}
            <embed src="data:application/pdf;base64,{{ card.get_content() | b64encode }}"
                   type="application/pdf"
                   class="w-full h-full min-h-[500px]">
        {% elif content_type.startswith('video/') %}
            <video controls class="w-full">
                <source src="data:{{ content_type }};base64,{{ card.get_content() | b64encode }}" 
                        type="{{ content_type }}">
                Your browser does not support the video tag.
            </video>
        {% elif content_type == 'text/plain' or content_type == 'text' %}
            <pre class="whitespace-pre-wrap font-mono text-sm bg-gray-50 p-4 rounded">{{ card.get_content().decode('utf-8') }}</pre>
        {% else %}
            <div class="text-gray-500 italic">
                Content preview not available for type: {{ content_type }}
            </div>
        {% endif %}
    </div>
    {% else %}
    <div class="h-full flex items-center justify-center text-gray-500">
        Select a card to view details
    </div>
    {% endif %}
</div>
