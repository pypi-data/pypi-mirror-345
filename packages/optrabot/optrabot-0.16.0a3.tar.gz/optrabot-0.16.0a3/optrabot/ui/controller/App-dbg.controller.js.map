{"version":3,"file":"App-dbg.controller.js","names":["BaseController","_interopRequireDefault","__BaseController","App","extend","onInit","_onInit","getView","addStyleClass","getOwnerComponent","getContentDensityClass","Device","resize","width","onSideNavButtonPress","environment","window","backendBaseUrl","location","origin","slice","lastIndexOf","globalData","globalModel","JSONModel","setModel","getBundleText","_getBundleText","sI18nKey","aPlaceholderValues","Promise","resolve","getBundleTextByModel","getModel","_onSideNavButtonPress","console","log","oToolPage","byId","bSideExpanded","getSideExpanded","setSideExpanded","_setToggleButtonTooltip","oToggleButton","setTooltip"],"sources":["App.controller.ts"],"sourcesContent":["import BaseController from \"./BaseController\";\nimport Device from \"sap/ui/Device\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport ToolPage from \"sap/tnt/ToolPage\";\nimport ResourceModel from \"sap/ui/model/resource/ResourceModel\";\n\n/**\n * @namespace com.optrabot.ui.controller\n */\nexport default class App extends BaseController {\n\tpublic onInit(): void {\n\t\t// apply content density mode to root view\n\t\tthis.getView().addStyleClass(this.getOwnerComponent().getContentDensityClass());\n\n\t\t// if the app starts on desktop devices with small or medium screen size, collaps the side navigation\n\t\tif (Device.resize.width <= 1024) {\n\t\t\tthis.onSideNavButtonPress();\n\t\t}\n\n\t\tvar environment = (window as any).environment || \"PROD\";\n\t\tvar backendBaseUrl = \"\";\n\t\tbackendBaseUrl = window.location.origin;\n\t\tif (environment !== \"PROD\") {\n\t\t\t// In development the backend uses a different port\n\t\t\tbackendBaseUrl = backendBaseUrl.slice(0, backendBaseUrl.lastIndexOf(\":\"));\n\t\t\tbackendBaseUrl = backendBaseUrl+ \":8080\"\n\t\t}\n\t\tconst globalData = {\n\t\t\t\"backendBaseUrl\": backendBaseUrl,\n\t\t\t\"appVersion\": \"1.0.0\"\n\t\t};\n\t\tconst globalModel = new JSONModel(globalData);\n\t\tthis.getOwnerComponent().setModel(globalModel, \"global\");\n\t}\n\t\n\tpublic getBundleText(sI18nKey: string, aPlaceholderValues?: string[]): Promise<string> {\n\t\treturn Promise.resolve(this.getBundleTextByModel(sI18nKey, this.getOwnerComponent().getModel(\"i18n\") as ResourceModel, aPlaceholderValues));\n\t}\n\n\tpublic onSideNavButtonPress(): void {\n\t\tconsole.log(\"SideNavButton pressed\");\n\t\tconst oToolPage = this.byId(\"optrabot_app\") as ToolPage;\n\t\tvar bSideExpanded = oToolPage.getSideExpanded();\n\t\toToolPage.setSideExpanded(!bSideExpanded);\n\t\tthis._setToggleButtonTooltip(!bSideExpanded);\n\t}\n\n\tpublic async _setToggleButtonTooltip(bSideExpanded: boolean): Promise<void> {\n\t\tconst oToggleButton = this.byId(\"sideNavigationToggleButton\");\n\t\tif (bSideExpanded) {\n\t\t\toToggleButton.setTooltip(await this.getBundleText(\"sideNavigationCollapseTooltip\"));\n\t\t} else {\n\t\t\toToggleButton.setTooltip(await this.getBundleText(\"sideNavigationExpandTooltip\"));\n\t\t}\n\t}\n}\n"],"mappings":";;;;;;;;QAAOA,cAAc,GAAAC,sBAAA,CAAAC,gBAAA;EAMrB;AACA;AACA;EAFA,MAGqBC,GAAG,GAASH,cAAc,CAAAI,MAAA;IACvCC,MAAM,WAAAC,QAAA,EAAS;MACrB;MACA,IAAI,CAACC,OAAO,CAAC,CAAC,CAACC,aAAa,CAAC,IAAI,CAACC,iBAAiB,CAAC,CAAC,CAACC,sBAAsB,CAAC,CAAC,CAAC;;MAE/E;MACA,IAAIC,MAAM,CAACC,MAAM,CAACC,KAAK,IAAI,IAAI,EAAE;QAChC,IAAI,CAACC,oBAAoB,CAAC,CAAC;MAC5B;MAEA,IAAIC,WAAW,GAAIC,MAAM,CAASD,WAAW,IAAI,MAAM;MACvD,IAAIE,cAAc,GAAG,EAAE;MACvBA,cAAc,GAAGD,MAAM,CAACE,QAAQ,CAACC,MAAM;MACvC,IAAIJ,WAAW,KAAK,MAAM,EAAE;QAC3B;QACAE,cAAc,GAAGA,cAAc,CAACG,KAAK,CAAC,CAAC,EAAEH,cAAc,CAACI,WAAW,CAAC,GAAG,CAAC,CAAC;QACzEJ,cAAc,GAAGA,cAAc,GAAE,OAAO;MACzC;MACA,MAAMK,UAAU,GAAG;QAClB,gBAAgB,EAAEL,cAAc;QAChC,YAAY,EAAE;MACf,CAAC;MACD,MAAMM,WAAW,GAAG,IAAIC,SAAS,CAACF,UAAU,CAAC;MAC7C,IAAI,CAACb,iBAAiB,CAAC,CAAC,CAACgB,QAAQ,CAACF,WAAW,EAAE,QAAQ,CAAC;IACzD,CAAC;IAEMG,aAAa,WAAAC,eAACC,QAAgB,EAAEC,kBAA6B,EAAmB;MACtF,OAAOC,OAAO,CAACC,OAAO,CAAC,IAAI,CAACC,oBAAoB,CAACJ,QAAQ,EAAE,IAAI,CAACnB,iBAAiB,CAAC,CAAC,CAACwB,QAAQ,CAAC,MAAM,CAAC,EAAmBJ,kBAAkB,CAAC,CAAC;IAC5I,CAAC;IAEMf,oBAAoB,WAAAoB,sBAAA,EAAS;MACnCC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;MACpC,MAAMC,SAAS,GAAG,IAAI,CAACC,IAAI,CAAC,cAAc,CAAa;MACvD,IAAIC,aAAa,GAAGF,SAAS,CAACG,eAAe,CAAC,CAAC;MAC/CH,SAAS,CAACI,eAAe,CAAC,CAACF,aAAa,CAAC;MACzC,IAAI,CAACG,uBAAuB,CAAC,CAACH,aAAa,CAAC;IAC7C,CAAC;IAEYG,uBAAuB,iBAAAA,wBAACH,aAAsB,EAAiB;MAC3E,MAAMI,aAAa,GAAG,IAAI,CAACL,IAAI,CAAC,4BAA4B,CAAC;MAC7D,IAAIC,aAAa,EAAE;QAClBI,aAAa,CAACC,UAAU,CAAC,MAAM,IAAI,CAAClB,aAAa,CAAC,+BAA+B,CAAC,CAAC;MACpF,CAAC,MAAM;QACNiB,aAAa,CAACC,UAAU,CAAC,MAAM,IAAI,CAAClB,aAAa,CAAC,6BAA6B,CAAC,CAAC;MAClF;IACD;EAAC;EAAA,OA7CmBvB,GAAG;AAAA","ignoreList":[]}