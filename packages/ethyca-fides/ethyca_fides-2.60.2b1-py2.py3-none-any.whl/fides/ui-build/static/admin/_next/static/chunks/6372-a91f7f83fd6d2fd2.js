(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6372],{95372:function(e){e.exports=function(e,t,n,i){for(var r=e.length,a=n+(i?1:-1);i?a--:++a<r;)if(t(e[a],a,e))return a;return -1}},56632:function(e,t,n){var i=n(89278),r=n(80068),a=n(50098);e.exports=function(e){return function(t,n,o){var s=Object(t);if(!r(t)){var l=i(n,3);t=a(t),n=function(e){return l(s[e],e,s)}}var c=e(t,n,o);return c>-1?s[l?t[c]:c]:void 0}}},64925:function(e,t,n){var i=n(56632)(n(66259));e.exports=i},66259:function(e,t,n){var i=n(95372),r=n(89278),a=n(47991),o=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return -1;var l=null==n?0:a(n);return l<0&&(l=o(s+l,0)),i(e,r(t,3),l)}},94919:function(e,t,n){var i=n(91936),r=1/0;e.exports=function(e){return e?(e=i(e))===r||e===-r?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}},47991:function(e,t,n){var i=n(94919);e.exports=function(e){var t=i(e),n=t%1;return t==t?n?t-n:t:0}},12627:function(e,t,n){"use strict";var i=n(24246),r=n(79283),a=n(34929);t.Z=e=>{let{selectedTaxonomies:t,showDisabled:n=!1,...o}=e,{getDataCategoryDisplayNameProps:s,getDataCategories:l}=(0,a.Z)(),c=(n?l():l().filter(e=>e.active)).filter(e=>!t.includes(e.fides_key)).map(e=>{let{name:t,primaryName:n}=s(e.fides_key);return{value:e.fides_key,name:t,primaryName:n,description:e.description||""}});return(0,i.jsx)(r.l,{options:c,...o})}},79283:function(e,t,n){"use strict";n.d(t,{l:function(){return l}});var i=n(24246),r=n(91942),a=n(72707),o=n.n(a);let s=e=>{let{data:t}=e;return(0,i.jsxs)(r.jqI,{gap:12,title:"".concat(t.primaryName||"").concat(t.primaryName?": ":"").concat(t.name," - ").concat(t.description),children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:t.primaryName||t.name}),t.primaryName&&": ".concat(t.name)]}),(0,i.jsx)("em",{children:t.description})]})},l=e=>{let{options:t,...n}=e,a=null==t?void 0:t.map(e=>({...e,className:o().option}));return(0,i.jsx)(r.WPr,{options:a,autoFocus:!0,variant:"borderless",optionRender:s,dropdownStyle:{minWidth:"500px"},className:"w-full p-0","data-testid":"taxonomy-select",...n})}},34929:function(e,t,n){"use strict";var i=n(24246),r=n(64925),a=n.n(r),o=n(27378),s=n(16134),l=n(30002),c=n(28079),u=n(57072);let d=()=>{let{isLoading:e}=(0,c.fd)(),t=(0,s.C)(c.U3),{isLoading:n}=(0,u.MO)(),i=(0,s.C)(u.qb),{isLoading:r}=(0,l.te)();return{dataUses:t,dataSubjects:(0,s.C)(l.ZL),dataCategories:i,isLoading:e||n||r}};t.Z=()=>{let{dataUses:e,dataCategories:t,dataSubjects:n,isLoading:r}=d(),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.split(".").slice(0,t).join(".")},l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=t(e);if(!i)return{};let r=t(s(e,n)),a=!!i.parent_key;return{name:i.name||void 0,primaryName:a&&(null==r?void 0:r.name)!==i.name&&(null==r?void 0:r.name)||void 0}},c=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,{name:r,primaryName:a}=l(e,t,n);return r?a?(0,i.jsxs)(o.Fragment,{children:[(0,i.jsxs)("strong",{children:[a,":"]})," ",r]},e):(0,i.jsx)("strong",{children:r},e):e},u=t=>a()(e,{fides_key:t}),f=e=>a()(t,{fides_key:e}),v=e=>a()(n,{fides_key:e});return{getDataUses:()=>e,getDataUseByKey:u,getDataUseDisplayName:e=>c(e,u,1),getDataUseDisplayNameProps:e=>l(e,u,1),getDataCategories:()=>t,getDataCategoryByKey:f,getDataCategoryDisplayName:e=>c(e,f,2),getDataCategoryDisplayNameProps:e=>l(e,f,2),getDataSubjects:()=>n,getDataSubjectByKey:v,getDataSubjectDisplayName:e=>{let t=v(e);return t?t.name:e},getPrimaryKey:s,isLoading:r}}},61099:function(e,t,n){"use strict";var i=n(24246),r=n(91942),a=n(27378),o=n(12627),s=n(34929),l=n(26183),c=n(70675);t.Z=e=>{var t,n,u;let{resource:d}=e,[f,v]=(0,a.useState)(!1),{getDataCategoryDisplayName:p}=(0,s.Z)(),[g]=(0,c.NA)(),m=(null===(t=d.classifications)||void 0===t?void 0:t.length)?d.classifications[0].label:null,_=null!==(u=d.user_assigned_data_categories)&&void 0!==u?u:[],h=!m&&!(null==_?void 0:_.length),x=null===(n=d.sub_field_urns)||void 0===n?void 0:n.length,j=e=>{g({staged_resource_urn:d.urn,monitor_config_id:d.monitor_config_id,user_assigned_data_categories:[..._,e]})},y=e=>{var t;g({staged_resource_urn:d.urn,monitor_config_id:d.monitor_config_id,user_assigned_data_categories:null!==(t=null==_?void 0:_.filter(t=>t!==e))&&void 0!==t?t:[]})},b=!f&&!!_.length,D=!f&&!!m&&!_.length;return(0,i.jsxs)(l.Z,{"data-testid":"edit-category-cell",children:[h&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.j8w,{"data-testid":"no-classifications",color:"white",children:"None"}),!x&&(0,i.jsx)(r.j8w,{onClick:()=>v(!0),addable:!0,"data-testid":"taxonomy-add-btn","aria-label":"Add category"})]}),b&&(0,i.jsxs)(i.Fragment,{children:[_.map(e=>(0,i.jsx)(r.j8w,{"data-testid":"user-classification-".concat(e),color:"white",closable:!0,onClose:()=>y(e),closeButtonLabel:"Remove category",children:p(e)},e)),(0,i.jsx)(r.j8w,{onClick:()=>v(!0),addable:!0,"data-testid":"taxonomy-add-btn","aria-label":"Add category"})]}),D&&(0,i.jsxs)(r.j8w,{onClick:()=>v(!0),color:"white","data-testid":"classification-".concat(m),hasSparkle:!0,children:[p(m),(0,i.jsx)(r.PJP.I8b,{size:10})]}),f&&(0,i.jsx)(r.xuv,{className:"select-wrapper",position:"absolute",zIndex:10,top:"0",left:"0",width:"100%",height:"max",bgColor:"#fff",children:(0,i.jsx)(o.Z,{selectedTaxonomies:_,onChange:e=>{v(!1),j(e)},onBlur:()=>v(!1),open:!0})})]})}},26183:function(e,t,n){"use strict";var i=n(24246);n(27378),t.Z=e=>{let{children:t,className:n,...r}=e;return(0,i.jsx)("div",{className:"relative flex w-full flex-wrap items-center gap-2 overflow-x-auto py-2 ".concat(n||""),...r,children:t})}},7940:function(e,t,n){"use strict";n.d(t,{G:function(){return r}});var i=n(16643);let r=e=>{var t,n,r;return e?e.resource_type?e.resource_type:(null===(t=e.schemas)||void 0===t?void 0:t.length)?i.D$.DATABASE:(null===(n=e.tables)||void 0===n?void 0:n.length)?i.D$.SCHEMA:(null===(r=e.fields)||void 0===r?void 0:r.length)?i.D$.TABLE:i.D$.FIELD:void 0}},98559:function(e,t){"use strict";t.Z=e=>{let{name:t,urn:n,monitor_config_id:i,database_name:r,schema_name:a,table_name:o,top_level_field_name:s,top_level_field_urn:l}=e;if(!s)return t;let c=n.split(".");return l?n.replace("".concat(l).concat("."),""):([i,r,a,o,s].forEach(e=>{if(e){let t=c.indexOf(e);t>-1&&c.splice(t,1)}}),c.join("."))}},36168:function(e,t){"use strict";t.Z=e=>{var t;return!!e.parent_table_urn&&null!==(t=e.sub_field_urns)&&void 0!==t&&!!t.length&&!e.top_level_field_name}},80356:function(e,t,n){"use strict";var i=n(7940),r=n(36168),a=n(16643);t.Z=e=>(0,i.G)(e)!==a.D$.FIELD||(0,r.Z)(e)},72707:function(e){e.exports={option:"TaxonomySelect_option__vY6v2"}}}]);