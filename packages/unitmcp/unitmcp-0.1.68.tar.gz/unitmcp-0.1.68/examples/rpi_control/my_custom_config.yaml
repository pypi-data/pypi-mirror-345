# UnitMCP Configuration Automation Example

# Devices configuration
devices:
  main_led:
    type: led
    pin: 17
    description: "Main indicator LED"
  
  user_button:
    type: button
    pin: 27
    description: "User interaction button"
  
  traffic1:
    type: traffic_light
    red_pin: 17
    yellow_pin: 27
    green_pin: 22
    description: "Main traffic light"

# Sequences define ordered steps of actions
sequences:
  # Main sequence - runs by default
  main:
    description: "Main demonstration sequence"
    steps:
      - type: led
        device: main_led
        action: on
        description: "Turn on the main LED"
      
      - type: button
        device: user_button
        action: wait_press
        description: "Wait for button press to continue"
      
      - type: traffic_light
        device: traffic1
        action: cycle
        params:
          duration: 2.0
        description: "Run a traffic light cycle"
      
      - type: led
        device: main_led
        action: blink
        params:
          on_time: 0.1
          off_time: 0.1
          count: 10
        description: "Blink the LED rapidly"
      
      - type: delay
        params:
          duration: 1.0
        description: "Pause for 1 second"
      
      - type: led
        device: main_led
        action: off
        description: "Turn off the main LED"
  
  # LED demonstration sequence
  led_demo:
    description: "LED demonstration sequence"
    steps:
      - type: led
        device: main_led
        action: on
        description: "Turn on LED"
      
      - type: delay
        params:
          duration: 1.0
        description: "Wait 1 second"
      
      - type: led
        device: main_led
        action: blink
        params:
          on_time: 0.1
          off_time: 0.1
          count: 5
        description: "Blink LED fast"
      
      - type: delay
        params:
          duration: 1.0
        description: "Wait 1 second"
      
      - type: led
        device: main_led
        action: blink
        params:
          on_time: 0.5
          off_time: 0.5
          count: 3
        description: "Blink LED slow"
      
      - type: delay
        params:
          duration: 1.0
        description: "Wait 1 second"
      
      - type: led
        device: main_led
        action: off
        description: "Turn off LED"
  
  # Button demonstration sequence
  button_demo:
    description: "Button interaction demonstration"
    steps:
      - type: led
        device: main_led
        action: on
        description: "Turn on indicator LED"
      
      - type: button
        device: user_button
        action: wait_press
        description: "Wait for first button press"
      
      - type: led
        device: main_led
        action: blink
        params:
          on_time: 0.1
          off_time: 0.1
          count: 3
        description: "Blink LED to acknowledge button press"
      
      - type: button
        device: user_button
        action: wait_press
        description: "Wait for second button press"
      
      - type: led
        device: main_led
        action: off
        description: "Turn off LED"
  
  # Traffic light demonstration
  traffic_demo:
    description: "Traffic light demonstration"
    steps:
      - type: traffic_light
        device: traffic1
        action: red
        params:
          duration: 3.0
        description: "Red light for 3 seconds"
      
      - type: traffic_light
        device: traffic1
        action: yellow
        params:
          duration: 1.0
        description: "Yellow light for 1 second"
      
      - type: traffic_light
        device: traffic1
        action: green
        params:
          duration: 3.0
        description: "Green light for 3 seconds"
      
      - type: traffic_light
        device: traffic1
        action: cycle
        params:
          duration: 2.0
          cycles: 2
        description: "Run 2 complete traffic light cycles"

# Define which sequence to run by default
main_sequence: main

# Global settings
settings:
  simulation_mode: false  # Set to true when no hardware is available
  log_level: INFO
