

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Annotated Corpus Map &mdash; Orange3 Text Mining  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=ad6d0c38" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Corpus" href="corpus-widget.html" />
    <link rel="prev" title="Welcome to Orange3 Text Mining documentation!" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Orange3 Text Mining
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Annotated Corpus Map</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="corpus-widget.html">Corpus</a></li>
<li class="toctree-l1"><a class="reference internal" href="importdocuments.html">Import Documents</a></li>
<li class="toctree-l1"><a class="reference internal" href="createcorpus.html">Create Corpus</a></li>
<li class="toctree-l1"><a class="reference internal" href="guardian-widget.html">The Guardian</a></li>
<li class="toctree-l1"><a class="reference internal" href="nytimes.html">NY Times</a></li>
<li class="toctree-l1"><a class="reference internal" href="pubmed.html">Pubmed</a></li>
<li class="toctree-l1"><a class="reference internal" href="twitter-widget.html">Twitter</a></li>
<li class="toctree-l1"><a class="reference internal" href="wikipedia-widget.html">Wikipedia</a></li>
<li class="toctree-l1"><a class="reference internal" href="preprocesstext.html">Preprocess Text</a></li>
<li class="toctree-l1"><a class="reference internal" href="bagofwords-widget.html">Bag of Words</a></li>
<li class="toctree-l1"><a class="reference internal" href="documentembedding.html">Document Embedding</a></li>
<li class="toctree-l1"><a class="reference internal" href="similarityhashing.html">Similarity Hashing</a></li>
<li class="toctree-l1"><a class="reference internal" href="sentimentanalysis.html">Sentiment Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="tweetprofiler.html">Tweet Profiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="topicmodelling-widget.html">Topic Modelling</a></li>
<li class="toctree-l1"><a class="reference internal" href="LDAvis.html">LDAvis</a></li>
<li class="toctree-l1"><a class="reference internal" href="corpusviewer.html">Corpus Viewer</a></li>
<li class="toctree-l1"><a class="reference internal" href="wordcloud.html">Word Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="concordance.html">Concordance</a></li>
<li class="toctree-l1"><a class="reference internal" href="docmap.html">Document Map</a></li>
<li class="toctree-l1"><a class="reference internal" href="wordenrichment.html">Word Enrichment</a></li>
<li class="toctree-l1"><a class="reference internal" href="duplicatedetection.html">Duplicate Detection</a></li>
<li class="toctree-l1"><a class="reference internal" href="statistics.html">Statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="corpustonetwork.html">Corpus to Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="keywords.html">Extract Keywords</a></li>
<li class="toctree-l1"><a class="reference internal" href="score-documents.html">Score Documents</a></li>
<li class="toctree-l1"><a class="reference internal" href="semanticviewer.html">Semantic Viewer</a></li>
<li class="toctree-l1"><a class="reference internal" href="collocations.html">Collocations</a></li>
<li class="toctree-l1"><a class="reference internal" href="wordlist.html">Word List</a></li>
<li class="toctree-l1"><a class="reference internal" href="ontology.html">Ontology</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../scripting/corpus.html">Corpus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripting/preprocess.html">Preprocessor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripting/twitter.html">Twitter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripting/nyt.html">New York Times</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripting/guardian.html">The Guardian</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripting/wikipedia.html">Wikipedia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripting/bagofwords.html">Bag of Words</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripting/topicmodeling.html">Topic Modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripting/tag.html">Tag</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripting/async.html">Async Module</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Orange3 Text Mining</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Annotated Corpus Map</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/widgets/annotator.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="annotated-corpus-map">
<h1>Annotated Corpus Map<a class="headerlink" href="#annotated-corpus-map" title="Link to this heading"></a></h1>
<p>Annotated Corpus Map visualises, cluster, and annotates documents with keywords
in two-dimensional projection.</p>
<p><strong>Inputs</strong></p>
<ul class="simple">
<li><p>Corpus: A collection of documents to visualise.</p></li>
</ul>
<p><strong>Outputs</strong></p>
<ul class="simple">
<li><p>Selected Document: Documents selected from the plot</p></li>
<li><p>Corpus: Data with an additional column showing whether a document is selected and information about the cluster the document belongs to</p></li>
<li><p>Scores: Table with scores and p-values for each keyword averaged per cluster</p></li>
</ul>
<p>The <strong>Annotated Corpus Map</strong> widget provides a 2-dimensional scatter plot visualization
of the document. The documents are displayed as a collection of points, each having
the value of the x-axis attribute determining the position on the horizontal axis
and the value of the y-axis attribute determining the position on the vertical axis.
Widget clusters documents according to annotation settings and assigns keywords to
each cluster. Keywords are extracted with the TF-IDF method.</p>
<p><img alt="../_images/Annotator.png" src="../_images/Annotator.png" /></p>
<ol>
<li><p><em>Axis X</em> and <em>Axis Y</em> let you select attributes you will show in the widget.
We suggest using the t-SNE widget before Annotator and selecting <code class="docutils literal notranslate"><span class="pre">t-SNE-x</span></code>
and <code class="docutils literal notranslate"><span class="pre">t-SNE-y</span></code> as x and y attributes.</p></li>
<li><p><strong>Annotation</strong>: Select the method to identify clusters:</p>
<ul class="simple">
<li><p><em><a class="reference external" href="https://orange3.readthedocs.io/projects/orange-visual-programming/en/latest/widgets/unsupervised/DBSCAN.html">DBSCAN</a> clustering</em>:
Set epsilon, the maximum distance between two samples for one to be considered
as in the neighbourhood of the other and those clustered together. Unchecking
epsilon will instruct the widget to set epsilon automatically.</p></li>
<li><p><em><a class="reference external" href="https://scikit-learn.org/stable/modules/mixture.html#gaussian-mixture">Gaussian mixture models</a></em>:
Select the number of desired clusters. Unchecking clusters will instruct the widget
to set the numbers of clusters automatically.</p></li>
<li><p><em>From variable</em> clusters documents according to a selected categorical variable.</p></li>
</ul>
<p>FDR Threshold sets the threshold for selecting a keyword as a cluster’s keyword.
Keywords with corrected p-value (FDR) from the hypergeometric test lower than
the threshold are selected.</p>
</li>
<li><p><strong>Attributes</strong>: Set the colour of the displayed points (you will get colours
for categorical values and blue-green-yellow points for numeric). Set label,
shape and size to differentiate between points. <em>Label only selected points</em>
allows you to select individual data instances and label only those.</p></li>
<li><p>Set symbol size and opacity for all data points. Set <a class="reference external" href="https://en.wikipedia.org/wiki/Jitter">jittering</a>
to prevent the dots from overlapping. Jittering will randomly scatter points
only around categorical values. <em>Cluster labels</em> define how many keywords per
cluster widget will show.</p></li>
<li><p>Set additional plot settings:</p>
<ul class="simple">
<li><p><em>Show legend</em> displays a legend. Click and drag the legend to move it.</p></li>
<li><p><em>Show cluster hull</em> displays the concave hull around clusters.</p></li>
<li><p><em>Color points by cluster</em> colours documents (points) with cluster specific color.
When this option is checked setting color in box 2 is disabled.</p></li>
</ul>
</li>
<li><p><em>Select, zoom, pan and zoom to fit</em> are the options for exploring the graph.
The manual selection of data instances works as an angular/square selection tool.
Double-click to move the projection. Scroll in or out for zoom.</p></li>
<li><p>Plot with each point presenting documents. Documents are clustered according to
the settings above, and clusters are marked with a hull. Over each cluster,
the widget places the list of the most significant keywords. Hovering over
the cluster labels displays a tooltip with scores and up to ten characteristic words.</p></li>
<li><p>Changes are communicated automatically if <em>Send automatically</em> is ticked.
Alternatively, press <em>Send</em>.</p></li>
<li><p>Get help, save the plot, add the plot to the report, set visual settings and get input
and output information.</p></li>
</ol>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Link to this heading"></a></h2>
<p>Document maps can be enhanced with keyword annotations. This workflow embeds documents
in vector space, computes and annotates a t-SNE document map. The Annotator widget
identifies clusters on the map and annotates them with keywords representing a cluster.</p>
<p>We load the <strong>Proposal to government</strong> dataset from
<a class="reference external" href="https://file.biolab.si/text-semantics/data/proposals-to-government-1k/">documents repository</a>
with the<a class="reference internal" href="importdocuments.html"><span class="doc">Import Documents</span></a> widget. In the <a class="reference internal" href="corpus-widget.html"><span class="doc">Corpus</span></a> widget,
we set variables used as text features and the title variable for display purposes.</p>
<p>The <a class="reference internal" href="documentembedding.html"><span class="doc">Document Embedding</span></a> widget embeds documents in the vector
space for the t-SNE widget to project them in two-dimensional space.</p>
<p>Annotated Corpus Map plots documents on the two-dimensional space.
We select t-SNE projection as the x and y variables and decide to use Gaussian
mixture models for cluster identification.
The widget marks clusters with hulls and places keywords on each cluster.</p>
<p>We got clusters with different topics. In the left purple cluster,
we have documents connected to traffic, while the red cluster seems similar but
more focused on vehicles and registration. The yellow cluster includes documents
related to work and students.</p>
<p>We can select a subset of documents of interest and observe them in the
<a class="reference internal" href="corpusviewer.html"><span class="doc">Corpus Viewer</span></a> widget connected to the output.</p>
<p><img alt="../_images/Annotator-Example.png" src="../_images/Annotator-Example.png" /></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../index.html" class="btn btn-neutral float-left" title="Welcome to Orange3 Text Mining documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="corpus-widget.html" class="btn btn-neutral float-right" title="Corpus" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018, Laboratory of Bioinformatics, Faculty of Computer Science, University of Ljubljana.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>