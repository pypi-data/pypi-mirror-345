(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5979],{23663:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/privacy-requests/configure/storage",function(){return i(64665)}])},77213:function(e,t,i){"use strict";i.d(t,{Z:function(){return m}});var n=i(24246),r=i(91942),s=i(88038),a=i.n(s),l=i(86677);i(27378);var o=i(25980),c=i(90867),d=i(77830),u=()=>{let e=(0,l.useRouter)();return(0,n.jsx)(r.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,n.jsxs)(r.xuv,{children:[(0,n.jsxs)(r.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,n.jsx)(r.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,n.jsx)(r.wpx,{onClick:()=>{e.push(d.fz)},children:"Configure"})]}),(0,n.jsxs)(r.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},m=e=>{let{children:t,title:i,padded:s=!0,mainProps:d}=e,m=(0,o.hz)(),p=(0,l.useRouter)(),g="/privacy-requests"===p.pathname||"/datastore-connection"===p.pathname,h=!(m.flags.privacyRequestsConfiguration&&g),{data:f}=(0,c.JE)(void 0,{skip:h}),{data:x}=(0,c.PW)(void 0,{skip:h}),v=m.flags.privacyRequestsConfiguration&&(!f||!x)&&g;return(0,n.jsxs)(r.kCb,{"data-testid":i,direction:"column",h:"100vh",children:[(0,n.jsxs)(a(),{children:[(0,n.jsxs)("title",{children:["Fides Admin UI - ",i]}),(0,n.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsxs)(r.kCb,{as:"main",direction:"column",py:s?6:0,px:s?10:0,h:s?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...d,children:[v?(0,n.jsx)(u,{}):null,t]})]})}},58754:function(e,t,i){"use strict";var n=i(24246),r=i(91942),s=i(70788);t.Z=e=>{let{heading:t,breadcrumbItems:i,isSticky:a=!0,children:l,rightContent:o,style:c,...d}=e;return(0,n.jsxs)("div",{...d,style:a?{position:"sticky",top:"-24px",paddingTop:"24px",paddingBottom:"24px",paddingLeft:"40px",marginLeft:"-40px",paddingRight:"40px",marginRight:"-40px",marginTop:"-24px",left:0,zIndex:20,backgroundColor:"white",...c}:{paddingBottom:"24px",...c},children:[(0,n.jsxs)(r.jqI,{justify:"space-between",children:["string"==typeof t?(0,n.jsx)(r.lQT,{className:i||l?"pb-4":void 0,level:1,"data-testid":"page-heading",children:t}):t,o&&(0,n.jsx)("div",{"data-testid":"page-header-right-content",children:o})]}),!!i&&(0,n.jsx)(s.m,{className:l?"pb-4":void 0,items:i,"data-testid":"page-breadcrumb"}),l]})}},97181:function(e,t,i){"use strict";i.d(t,{d:function(){return c}});var n=i(24246),r=i(91942),s=i(34090),a=i(27378),l=i(46238),o=i(40324);let c=e=>{let{name:t,label:i,labelProps:c,tooltip:d,isRequired:u,layout:m="inline",helperText:p,...g}=e,[h,f,{setValue:x}]=(0,s.U$)(t),v=!!(f.touched&&f.error),[_,j]=(0,a.useState)("");h.value||"tags"!==g.mode&&"multiple"!==g.mode||(h.value=[]),"tags"===g.mode&&"string"==typeof h.value&&(h.value=[h.value]);let y="tags"===g.mode?(e,t)=>e?e.value!==_||h.value.includes(_)?g.optionRender?g.optionRender(e,t):e.label:'Create "'.concat(_,'"'):void 0:g.optionRender||void 0,b=e=>{j(e),g.onSearch&&g.onSearch(e)},C=(e,t)=>{x(e),g.onChange&&g.onChange(e,t)};return"inline"===m?(0,n.jsx)(r.NIc,{isInvalid:v,isRequired:u,children:(0,n.jsxs)(r.rjZ,{templateColumns:i?"1fr 3fr":"1fr",children:[i?(0,n.jsx)(o.__,{htmlFor:g.id||t,...c,children:i}):null,(0,n.jsxs)(r.jqI,{align:"center",children:[(0,n.jsxs)(r.jqI,{vertical:!0,flex:1,className:"mr-2",children:[(0,n.jsx)(r.WPr,{...h,id:g.id||t,"data-testid":"controlled-select-".concat(h.name),...g,optionRender:y,onSearch:"tags"===g.mode?b:void 0,onChange:C,value:h.value||void 0,status:v?"error":void 0}),p&&(0,n.jsx)(r.Q6r,{children:p}),(0,n.jsx)(o.Bc,{isInvalid:v,message:f.error,fieldName:h.name})]}),(0,n.jsx)(l.b,{label:d})]})]})}):(0,n.jsx)(r.NIc,{isInvalid:v,isRequired:u,children:(0,n.jsxs)(r.gCW,{alignItems:"start",children:[(0,n.jsxs)(r.jqI,{align:"center",children:[i?(0,n.jsx)(o.__,{htmlFor:g.id||t,fontSize:"xs",my:0,mr:1,...c,children:i}):null,(0,n.jsx)(l.b,{label:d})]}),(0,n.jsx)(r.WPr,{...h,id:g.id||t,"data-testid":"controlled-select-".concat(h.name),...g,optionRender:y,onSearch:"tags"===g.mode?b:void 0,onChange:C,value:h.value||void 0,status:v?"error":void 0}),p&&(0,n.jsx)(r.Q6r,{style:{marginTop:0},children:p}),(0,n.jsx)(o.Bc,{isInvalid:v,message:f.error,fieldName:h.name})]})})}},812:function(e,t,i){"use strict";i.d(t,{D4:function(){return s.D4},MM:function(){return m},Ot:function(){return c},c6:function(){return r},cj:function(){return g},e$:function(){return l},fn:function(){return o},iC:function(){return p},nU:function(){return u},tB:function(){return d}});var n,r,s=i(19043);let a="An unexpected error occurred. Please try again.",l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if((0,s.Bw)(e)){if((0,s.hE)(e.data))return e.data.detail;if((0,s.cz)(e.data)){var i;let t=null===(i=e.data.detail)||void 0===i?void 0:i[0];return"".concat(null==t?void 0:t.msg,": ").concat(null==t?void 0:t.loc)}if(409===e.status&&(0,s.Dy)(e.data)||404===e.status&&(0,s.XD)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")")}return t};function o(e){return"object"==typeof e&&null!=e&&"status"in e}function c(e){return"object"==typeof e&&null!=e&&"data"in e&&"string"==typeof e.data.detail}function d(e){return"object"==typeof e&&null!=e&&"data"in e&&Array.isArray(e.data.detail)}let u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:a};if((0,s.oK)(e))return{status:e.originalStatus,message:e.data};if((0,s.Bw)(e)){let{status:i}=e;return{status:i,message:l(e,t.message)}}return t},m=e=>Object.entries(e).map(e=>({value:e[1],label:e[1]}));(n=r||(r={})).GVL="gvl",n.AC="gacp",n.COMPASS="compass";let p={gvl:{label:"GVL",fullName:"Global Vendor List"},gacp:{label:"AC",fullName:"Google Additional Consent List"},compass:{label:"",fullName:""}},g=e=>{let t=e.split(".")[0];return"gacp"===t?"gacp":"gvl"===t?"gvl":"compass"}},14047:function(e,t,i){"use strict";i.d(t,{H:function(){return s},V:function(){return n.V}});var n=i(84306),r=i(812);let s=()=>{let{errorAlert:e}=(0,n.V)();return{handleError:t=>{let i="An unexpected error occurred. Please try again.";(0,r.Ot)(t)?i=t.data.detail:(0,r.tB)(t)&&(i=t.data.detail[0].msg),e(i)}}}},84306:function(e,t,i){"use strict";i.d(t,{V:function(){return s}});var n=i(24246),r=i(91942);let s=()=>{let e=(0,r.pmc)();return{errorAlert:(t,i,s)=>{let a={...s,position:(null==s?void 0:s.position)||"top",render:e=>{let{onClose:s}=e;return(0,n.jsxs)(r.bZj,{alignItems:"normal",status:"error","data-testid":"error-alert",children:[(0,n.jsx)(r.zMQ,{}),(0,n.jsxs)(r.xuv,{children:[i&&(0,n.jsx)(r.CdC,{children:i}),(0,n.jsx)(r.XaZ,{children:t})]}),(0,n.jsx)(r.PZ7,{onClick:s,position:"relative",right:0,size:"sm",top:-1})]})}};(null==s?void 0:s.id)&&e.isActive(s.id)?e.update(s.id,a):e(a)},successAlert:(t,i,s)=>{let a={...s,position:(null==s?void 0:s.position)||"top",render:e=>{let{onClose:s}=e;return(0,n.jsxs)(r.bZj,{alignItems:"normal",status:"success",variant:"subtle","data-testid":"success-alert",children:[(0,n.jsx)(r.zMQ,{}),(0,n.jsxs)(r.xuv,{children:[i&&(0,n.jsx)(r.CdC,{children:i}),(0,n.jsx)(r.XaZ,{children:t})]}),(0,n.jsx)(r.PZ7,{onClick:s,position:"relative",right:0,size:"sm",top:-1})]})}};(null==s?void 0:s.id)&&e.isActive(s.id)?e.update(s.id,a):e(a)}}}},70788:function(e,t,i){"use strict";i.d(t,{m:function(){return c}});var n=i(24246),r=i(91942),s=i(79894),a=i.n(s),l=i(27378);let{Text:o}=r.AntTypography,c=e=>{let{items:t,...i}=e,s=(0,l.useMemo)(()=>null==t?void 0:t.map((e,i)=>{let s=i===t.length-1,l={...e},c=l.onClick&&!l.href;return("string"==typeof l.title&&(l.title=(0,n.jsx)(o,{style:{color:"inherit",maxWidth:s?void 0:400},ellipsis:!s,children:l.title})),c)?l.title=(0,n.jsx)(r.wpx,{type:"text",size:"small",icon:l.icon,onClick:l.onClick,className:"ant-breadcrumb-link -mt-px px-1 text-inherit",children:l.title}):(l.icon&&(l.title=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"anticon align-text-bottom",children:l.icon}),l.title]})),l.href&&l.title&&(l.title=(0,n.jsx)(a(),{href:l.href,className:"ant-breadcrumb-link",children:l.title}),delete l.href)),l}),[t]);return(0,n.jsx)(r.zrq,{items:s,...i})}},7426:function(e,t,i){"use strict";i.d(t,{D2:function(){return m},L:function(){return l},U7:function(){return c},Yh:function(){return g},ak:function(){return o},iR:function(){return f},km:function(){return a},tB:function(){return s}});var n=i(3228);let r=i(78780).u.injectEndpoints({endpoints:e=>({getConfigurationSettings:e.query({query:e=>{let{api_set:t}=e;return{url:"/config",method:"GET",params:{api_set:t}}},providesTags:["Configuration Settings"]}),putConfigurationSettings:e.mutation({query:e=>({url:"/config",method:"PUT",body:e}),invalidatesTags:["Configuration Settings"]}),patchConfigurationSettings:e.mutation({query:e=>({url:"/config",method:"PATCH",body:e}),invalidatesTags:["Configuration Settings","Privacy Notices"]})})}),{useGetConfigurationSettingsQuery:s,usePutConfigurationSettingsMutation:a,usePatchConfigurationSettingsMutation:l}=r,o=(0,n.P1)([e=>e,r.endpoints.getConfigurationSettings.select({api_set:!0}),r.endpoints.getConfigurationSettings.select({api_set:!1})],(e,t,i)=>{var n,r,s;let{data:a}=t,{data:l}=i;return{configSet:{cors_origins:(null==l?void 0:null===(n=l.security)||void 0===n?void 0:n.cors_origins)||[],cors_origin_regex:null==l?void 0:null===(r=l.security)||void 0===r?void 0:r.cors_origin_regex},apiSet:{cors_origins:(null==a?void 0:null===(s=a.security)||void 0===s?void 0:s.cors_origins)||[]}}}),c=()=>(0,n.P1)([e=>e,r.endpoints.getConfigurationSettings.select({api_set:!0})],(e,t)=>{let{data:i}=t;return i}),d={enabled:!1,cmp_api_required:!1},u=(e,t,i,n)=>{let r=i&&i[e],s=n&&n[e];return r&&s?{...n[e],...i[e]}:s?n[e]:r?{...i[e]}:t},m=(0,n.P1)([e=>e,r.endpoints.getConfigurationSettings.select({api_set:!0}),r.endpoints.getConfigurationSettings.select({api_set:!1})],(e,t,i)=>{let{data:n}=t,{data:r}=i;return u("gpp",d,n,r)}),p={tcf_publisher_country_code:null},g=(0,n.P1)([e=>e,r.endpoints.getConfigurationSettings.select({api_set:!0}),r.endpoints.getConfigurationSettings.select({api_set:!1})],(e,t,i)=>{let{data:n}=t,{data:r}=i;return u("plus_consent_settings",p,n,r)}),h={allow_username_password_login:!1},f=(0,n.P1)([e=>e,r.endpoints.getConfigurationSettings.select({api_set:!0}),r.endpoints.getConfigurationSettings.select({api_set:!1})],(e,t,i)=>{let{data:n}=t,{data:r}=i;return u("plus_security_settings",h,n,r)})},71784:function(e,t,i){"use strict";i.d(t,{DE:function(){return o},I3:function(){return r},kN:function(){return a},qX:function(){return l},rE:function(){return s}});var n=i(16643);let r=[...new Map([[n.q2.APPROVED,"Approved"],[n.q2.CANCELED,"Canceled"],[n.q2.COMPLETE,"Completed"],[n.q2.DENIED,"Denied"],[n.q2.ERROR,"Error"],[n.q2.IN_PROCESSING,"In Progress"],[n.q2.PENDING,"New"],[n.q2.PAUSED,"Paused"],[n.q2.IDENTITY_UNVERIFIED,"Unverified"],[n.q2.REQUIRES_INPUT,"Requires input"]])].map(e=>{let[t,i]=e;return{label:i,value:t}}),s=new Map([[n.Us.ACCESS,"Access"],[n.Us.ERASURE,"Erasure"],[n.Us.CONSENT,"Consent"],[n.Us.UPDATE,"Update"]]),a=[...s].map(e=>{let[t,i]=e;return{label:i,value:t}}),l={mailgun:"mailgun",twilio_email:"twilio_email",twilio_text:"twilio_text"},o={local:"local",s3:"s3",gcs:"gcs"}},64665:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return j}});var n=i(24246),r=i(91942),s=i(27378),a=i(812),l=i(14047),o=i(77213),c=i(77830),d=i(58754),u=i(7426),m=i(71784),p=i(90867),g=i(34090),h=i(97181),f=i(40324),x=e=>{var t,i,o,c,d;let{storageDetails:u}=e,[x,v]=(0,s.useState)(""),[_]=(0,p.gC)(),[j]=(0,p.cf)(),{handleError:y}=(0,l.H)(),{successAlert:b}=(0,l.V)(),C={type:m.DE.gcs,auth_method:null!==(o=null==u?void 0:null===(t=u.details)||void 0===t?void 0:t.auth_method)&&void 0!==o?o:"",bucket:null!==(c=null==u?void 0:null===(i=u.details)||void 0===i?void 0:i.bucket)&&void 0!==c?c:"",format:null!==(d=null==u?void 0:u.format)&&void 0!==d?d:""},S=async e=>{let t=await _({type:m.DE.gcs,details:{auth_method:e.auth_method,bucket:e.bucket},format:e.format});(0,a.D4)(t)?y(t.error):(v(e.auth_method),b("Google Cloud Storage credentials successfully updated."))},k=async e=>{let t=e.private_key.trim();t.includes("\\n")&&(t=t.replace(/\\n/g,"\n"));let i=await j({details:{type:e.type,project_id:e.project_id,private_key_id:e.private_key_id,private_key:t,client_email:e.client_email,client_id:e.client_id,auth_uri:e.auth_uri,token_uri:e.token_uri,auth_provider_x509_cert_url:e.auth_provider_x509_cert_url,client_x509_cert_url:e.client_x509_cert_url,universe_domain:e.universe_domain},type:m.DE.gcs});(0,a.D4)(i)?y(i.error):b("Google Cloud Storage secrets successfully updated.")};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.X6q,{fontSize:"md",fontWeight:"semibold",mt:10,children:"Google Cloud Storage configuration"}),(0,n.jsx)(r.Kqy,{children:(0,n.jsx)(g.J9,{initialValues:C,onSubmit:S,enableReinitialize:!0,children:e=>{let{isSubmitting:t,handleReset:i}=e;return(0,n.jsxs)(g.l0,{children:[(0,n.jsxs)(r.Kqy,{mt:5,spacing:5,children:[(0,n.jsx)(h.d,{name:"format",label:"Format",options:[{label:"json",value:"json"},{label:"csv",value:"csv"}],"data-testid":"format",isRequired:!0}),(0,n.jsx)(h.d,{name:"auth_method",label:"Auth method",options:[{label:"Service Account Keys",value:"service_account_keys"},{label:"Application Default Credentials",value:"adc"}],"data-testid":"auth_method",isRequired:!0}),(0,n.jsx)(f.j0,{"data-testid":"bucket",name:"bucket",label:"Bucket",isRequired:!0})]}),(0,n.jsx)(r.wpx,{onClick:()=>i(),className:"mr-2 mt-5",children:"Cancel"}),(0,n.jsx)(r.wpx,{htmlType:"submit",className:"mt-5",disabled:t,type:"primary","data-testid":"save-btn",children:"Save"})]})}})}),"service_account_keys"===x&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.izJ,{mt:5}),(0,n.jsx)(r.X6q,{fontSize:"md",fontWeight:"semibold",mt:5,children:"Storage destination"}),(0,n.jsx)(r.Kqy,{children:(0,n.jsx)(g.J9,{initialValues:{type:"",project_id:"",private_key_id:"",private_key:"",client_email:"",client_id:"",auth_uri:"",token_uri:"",auth_provider_x509_cert_url:"",client_x509_cert_url:"",universe_domain:""},onSubmit:k,children:e=>{let{isSubmitting:t,handleReset:i}=e;return(0,n.jsxs)(g.l0,{children:[(0,n.jsxs)(r.Kqy,{mt:5,spacing:5,children:[(0,n.jsx)(f.j0,{name:"type",label:"Type"}),(0,n.jsx)(f.j0,{name:"project_id",label:"Project ID"}),(0,n.jsx)(f.j0,{name:"private_key_id",label:"Private key ID",type:"password"}),(0,n.jsx)(f.j0,{name:"private_key",label:"Private key",type:"password"}),(0,n.jsx)(f.j0,{name:"client_email",label:"Client email"}),(0,n.jsx)(f.j0,{name:"client_id",label:"Client ID"}),(0,n.jsx)(f.j0,{name:"auth_uri",label:"Auth URI"}),(0,n.jsx)(f.j0,{name:"token_uri",label:"Token URI"}),(0,n.jsx)(f.j0,{name:"auth_provider_x509_cert_url",label:"Auth provider x509 cert URL"}),(0,n.jsx)(f.j0,{name:"client_x509_cert_url",label:"Client x509 cert URL"}),(0,n.jsx)(f.j0,{name:"universe_domain",label:"Universe domain"})]}),(0,n.jsxs)(r.xuv,{mt:10,children:[(0,n.jsx)(r.wpx,{onClick:()=>i(),className:"mr-2 mt-5",children:"Cancel"}),(0,n.jsx)(r.wpx,{disabled:t,htmlType:"submit",type:"primary",className:"mt-5","data-testid":"save-btn",children:"Save"})]})]})}})})]})]})},v=e=>{var t,i,o,c,d;let{storageDetails:u}=e,[x,v]=(0,s.useState)(""),[_]=(0,p.gC)(),[j]=(0,p.cf)(),{handleError:y}=(0,l.H)(),{successAlert:b}=(0,l.V)(),C={type:m.DE.s3,auth_method:null!==(o=null==u?void 0:null===(t=u.details)||void 0===t?void 0:t.auth_method)&&void 0!==o?o:"",bucket:null!==(c=null==u?void 0:null===(i=u.details)||void 0===i?void 0:i.bucket)&&void 0!==c?c:"",format:null!==(d=null==u?void 0:u.format)&&void 0!==d?d:""},S=async e=>{let t=await _({type:m.DE.s3,details:{auth_method:e.auth_method,bucket:e.bucket},format:e.format});(0,a.D4)(t)?y(t.error):(v(e.auth_method),b("S3 storage credentials successfully updated."))},k=async e=>{let t=await j({details:{aws_access_key_id:e.aws_access_key_id,aws_secret_access_key:e.aws_secret_access_key},type:m.DE.s3});(0,a.D4)(t)?y(t.error):b("S3 storage secrets successfully updated.")};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.X6q,{fontSize:"md",fontWeight:"semibold",mt:10,children:"S3 storage configuration"}),(0,n.jsx)(r.Kqy,{children:(0,n.jsx)(g.J9,{initialValues:C,onSubmit:S,enableReinitialize:!0,children:e=>{let{isSubmitting:t,handleReset:i}=e;return(0,n.jsxs)(g.l0,{children:[(0,n.jsxs)(r.Kqy,{mt:5,spacing:5,children:[(0,n.jsx)(h.d,{name:"format",label:"Format",options:[{label:"json",value:"json"},{label:"csv",value:"csv"}],"data-testid":"format",isRequired:!0}),(0,n.jsx)(h.d,{name:"auth_method",label:"Auth method",options:[{label:"secret_keys",value:"secret_keys"},{label:"automatic",value:"automatic"}],"data-testid":"auth_method",isRequired:!0}),(0,n.jsx)(f.j0,{"data-testid":"bucket",name:"bucket",label:"Bucket",isRequired:!0})]}),(0,n.jsx)(r.wpx,{onClick:()=>i(),className:"mr-2 mt-5",children:"Cancel"}),(0,n.jsx)(r.wpx,{htmlType:"submit",className:"mt-5",disabled:t,type:"primary","data-testid":"save-btn",children:"Save"})]})}})}),"secret_keys"===x?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.izJ,{mt:5}),(0,n.jsx)(r.X6q,{fontSize:"md",fontWeight:"semibold",mt:5,children:"Storage destination"}),(0,n.jsx)(r.Kqy,{children:(0,n.jsx)(g.J9,{initialValues:{aws_access_key_id:"",aws_secret_access_key:""},onSubmit:k,children:e=>{let{isSubmitting:t,handleReset:i}=e;return(0,n.jsxs)(g.l0,{children:[(0,n.jsxs)(r.Kqy,{mt:5,spacing:5,children:[(0,n.jsx)(f.j0,{name:"aws_access_key_id",label:"AWS access key ID"}),(0,n.jsx)(f.j0,{name:"aws_secret_access_key",label:"AWS secret access key",type:"password"})]}),(0,n.jsxs)(r.xuv,{mt:10,children:[(0,n.jsx)(r.wpx,{onClick:()=>i(),className:"mr-2 mt-5",children:"Cancel"}),(0,n.jsx)(r.wpx,{disabled:t,htmlType:"submit",type:"primary",className:"mt-5","data-testid":"save-btn",children:"Save"})]})]})}})})]}):null]})},_=()=>{let{successAlert:e}=(0,l.V)(),{handleError:t}=(0,l.H)(),[i,g]=(0,s.useState)(""),{data:h}=(0,p.PW)(),{data:f}=(0,p.Au)({type:i}),[_,{isLoading:j}]=(0,p.gC)(),[y]=(0,u.L)();(0,s.useEffect)(()=>{h&&g(h.type)},[h]);let b=async i=>{let{value:n}=i.target;if(n===m.DE.local){let i=await _({type:n,details:{},format:"json"});(0,a.D4)(i)?t(i.error):e("Configured storage details successfully.")}let r=await y({storage:{active_default_storage_type:n}});(0,a.D4)(r)?t(r.error):g(n)},C={s3:v,gcs:x}[i];return(0,n.jsxs)(o.Z,{title:"Configure Privacy Requests - Storage",children:[(0,n.jsx)(d.Z,{heading:"Privacy Requests",breadcrumbItems:[{title:"All requests",href:c.Jw},{title:"Configure requests",href:c.fz},{title:"Storage"}]}),(0,n.jsx)(r.X6q,{mb:5,fontSize:"md",fontWeight:"semibold",children:"Configure storage"}),(0,n.jsxs)(r.xuv,{display:"flex",flexDirection:"column",width:"50%",children:[(0,n.jsx)(r.xuv,{mb:5,children:"Fides requires a storage destination to store and share the results of privacy requests. For a production setup, it is highly recommended to have S3 as a storage destination. Ensure you have completed the setup for the storage destination and have the details handy prior to the following steps."}),(0,n.jsxs)(r.xuv,{children:["To configure a Storage destination, first choose a method to store your results. Fides currently supports"," ",(0,n.jsx)(r.xvT,{as:"span",color:"complimentary.500",children:"Local"}),", ",(0,n.jsx)(r.xvT,{as:"span",color:"complimentary.500",children:"S3"})," ","and"," ",(0,n.jsx)(r.xvT,{as:"span",color:"complimentary.500",children:"GCS"})," ","storage methods."]}),(0,n.jsx)(r.X6q,{fontSize:"md",fontWeight:"semibold",mt:10,children:"Choose storage type to configure"}),(0,n.jsx)(r.y02.Group,{disabled:j,onChange:b,value:i,"data-testid":"privacy-requests-storage-selection",className:"p-3",children:(0,n.jsxs)(r.jqI,{children:[(0,n.jsx)(r.y02,{value:"local","data-testid":"option-local",children:"Local"},"local"),(0,n.jsx)(r.y02,{value:"s3","data-testid":"option-s3",children:"S3"},"s3"),(0,n.jsx)(r.y02,{value:"gcs","data-testid":"option-gcs",children:"GCS"},"gcs")]})}),C&&f&&(0,n.jsx)(C,{storageDetails:f})]})]})},j=()=>(0,n.jsx)(_,{})},19043:function(e,t,i){"use strict";i.d(t,{Bw:function(){return a},D4:function(){return r},Dy:function(){return o},XD:function(){return c},cz:function(){return d},hE:function(){return l},oK:function(){return s}});var n=i(76649);let r=e=>"error"in e,s=e=>(0,n.Ln)({status:"string"},e)&&"PARSING_ERROR"===e.status,a=e=>(0,n.Ln)({status:"number",data:{}},e),l=e=>(0,n.Ln)({detail:"string"},e),o=e=>(0,n.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e),c=e=>(0,n.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e),d=e=>(0,n.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},e)},76649:function(e,t,i){"use strict";i.d(t,{Ln:function(){return n}});let n=(e,t)=>s(e,t),r=Symbol("SOME"),s=(e,t)=>"string"==typeof e?e===typeof t:Array.isArray(e)?r in e?e.some(e=>s(e,t)):!!Array.isArray(t)&&(0===e.length||t.every(t=>e.some(e=>s(e,t)))):"object"==typeof t&&null!==t&&Object.entries(e).every(([e,i])=>s(i,t[e]));class a{static narrow(e){return new a(t=>n(e,t))}constructor(e){this.NF=void 0,this.NF=e}satisfied(e){return this.NF(e)}build(e){return e}and(e){let t=this.NF,i=e instanceof a?e.NF:e instanceof Function?e:t=>n(e,t);return new a(e=>t(e)&&i(e))}}new a(e=>!0)}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=23663)}),_N_E=e.O()}]);