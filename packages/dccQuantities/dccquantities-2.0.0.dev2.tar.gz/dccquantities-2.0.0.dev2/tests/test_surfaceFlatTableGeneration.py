import uuid

import numpy as np
import pandas as pd
from io import StringIO
from SiRealList import SiRealList
from DccQuantityType import DccQuantityType
from DccQuantityTable import DccFlatTable
from DccName import DccName
from dccXMLJSONConv.dccConv import XMLToDict,DictToXML
import pytest
from testHelpers import get_test_file
firstROWXYZ="""
X	Y 	Z
7.8e-09	7.8e-09	8.24e-09
2.34e-08	7.8e-09	5.356e-09
3.9e-08	7.8e-09	5.356e-09
5.46e-08	7.8e-09	4.532e-09
7.02e-08	7.8e-09	4.12e-09
8.58e-08	7.8e-09	4.532e-09
1.014e-07	7.8e-09	5.768e-09
1.17e-07	7.8e-09	4.532e-09
1.326e-07	7.8e-09	3.708e-09
1.482e-07	7.8e-09	4.532e-09
1.638e-07	7.8e-09	5.356e-09
1.794e-07	7.8e-09	6.18e-09
1.95e-07	7.8e-09	7.828e-09
2.106e-07	7.8e-09	9.064e-09
2.262e-07	7.8e-09	9.476e-09
2.418e-07	7.8e-09	1.03e-08
2.574e-07	7.8e-09	1.442e-08
2.73e-07	7.8e-09	1.2772e-08
2.886e-07	7.8e-09	1.6068e-08
3.042e-07	7.8e-09	1.5656e-08
3.198e-07	7.8e-09	1.8952e-08
3.354e-07	7.8e-09	1.8128e-08
3.51e-07	7.8e-09	1.854e-08
3.666e-07	7.8e-09	1.9776e-08
3.822e-07	7.8e-09	2.0188e-08
3.978e-07	7.8e-09	2.1836e-08
4.134e-07	7.8e-09	2.4308e-08
4.29e-07	7.8e-09	2.3896e-08
4.446e-07	7.8e-09	2.3896e-08
4.602e-07	7.8e-09	2.5544e-08
4.758e-07	7.8e-09	2.678e-08
4.914e-07	7.8e-09	2.9252e-08
5.07e-07	7.8e-09	2.7192e-08
5.226e-07	7.8e-09	2.7604e-08
5.382e-07	7.8e-09	2.9252e-08
5.538e-07	7.8e-09	2.7192e-08
5.694e-07	7.8e-09	2.7192e-08
5.85e-07	7.8e-09	2.678e-08
6.006e-07	7.8e-09	2.5544e-08
6.162e-07	7.8e-09	2.7192e-08
6.318e-07	7.8e-09	2.9252e-08
6.474e-07	7.8e-09	3.0076e-08
6.63e-07	7.8e-09	3.09e-08
6.786e-07	7.8e-09	3.09e-08
6.942e-07	7.8e-09	3.09e-08
7.098e-07	7.8e-09	2.9664e-08
7.254e-07	7.8e-09	2.8016e-08
7.41e-07	7.8e-09	2.678e-08
7.566e-07	7.8e-09	2.5132e-08
7.722e-07	7.8e-09	2.5132e-08
7.878e-07	7.8e-09	2.5956e-08
8.034e-07	7.8e-09	2.8016e-08
8.19e-07	7.8e-09	2.7192e-08
8.346e-07	7.8e-09	2.5956e-08
8.502e-07	7.8e-09	2.3896e-08
8.658e-07	7.8e-09	2.3072e-08
8.814e-07	7.8e-09	2.472e-08
8.97e-07	7.8e-09	2.5544e-08
9.126e-07	7.8e-09	2.472e-08
9.282e-07	7.8e-09	2.5544e-08
9.438e-07	7.8e-09	2.472e-08
9.594e-07	7.8e-09	2.472e-08
9.75e-07	7.8e-09	2.5132e-087.8e-09
9.906e-07	7.8e-09	2.5956e-08
1.0062e-06	7.8e-09	2.884e-08
1.0218e-06	7.8e-09	2.7604e-08
1.0374e-06	7.8e-09	2.6368e-08
1.053e-06	7.8e-09	2.9252e-08
1.0686e-06	7.8e-09	3.09e-08
1.0842e-06	7.8e-09	2.8428e-08
1.0998e-06	7.8e-09	2.8428e-08
1.1154e-06	7.8e-09	2.678e-08
1.131e-06	7.8e-09	2.5956e-08
1.1466e-06	7.8e-09	2.5544e-08
1.1622e-06	7.8e-09	2.678e-08
1.1778e-06	7.8e-09	2.678e-08
1.1934e-06	7.8e-09	2.3896e-08
1.209e-06	7.8e-09	2.472e-08
1.2246e-06	7.8e-09	2.5544e-08
1.2402e-06	7.8e-09	2.678e-08
1.2558e-06	7.8e-09	2.7192e-08
1.2714e-06	7.8e-09	3.0076e-08
1.287e-06	7.8e-09	3.0488e-08
1.3026e-06	7.8e-09	3.1724e-08
1.3182e-06	7.8e-09	3.3372e-08
1.3338e-06	7.8e-09	3.4196e-08
1.3494e-06	7.8e-09	3.6256e-08
1.365e-06	7.8e-09	3.8728e-08
1.3806e-06	7.8e-09	3.7904e-08
1.3962e-06	7.8e-09	3.7492e-08
1.4118e-06	7.8e-09	4.2024e-08
1.4274e-06	7.8e-09	3.9964e-08
1.443e-06	7.8e-09	4.0788e-08
1.4586e-06	7.8e-09	4.12e-08
1.4742e-06	7.8e-09	4.2848e-08
1.4898e-06	7.8e-09	4.326e-08
1.5054e-06	7.8e-09	4.4496e-08
1.521e-06	7.8e-09	4.6144e-08
1.5366e-06	7.8e-09	4.7792e-08
1.5522e-06	7.8e-09	4.8204e-08
1.5678e-06	7.8e-09	4.944e-08
1.5834e-06	7.8e-09	5.15e-08
1.599e-06	7.8e-09	5.15e-08
1.6146e-06	7.8e-09	5.3148e-08
1.6302e-06	7.8e-09	5.5208e-08
1.6458e-06	7.8e-09	5.356e-08
1.6614e-06	7.8e-09	5.2324e-08
1.677e-06	7.8e-09	4.944e-08
1.6926e-06	7.8e-09	4.9852e-08
1.7082e-06	7.8e-09	4.944e-08
1.7238e-06	7.8e-09	4.9852e-08
1.7394e-06	7.8e-09	4.6144e-08
1.755e-06	7.8e-09	4.0788e-08
1.7706e-06	7.8e-09	3.9964e-08
1.7862e-06	7.8e-09	3.5844e-08
1.8018e-06	7.8e-09	3.1724e-08
1.8174e-06	7.8e-09	2.8428e-08
1.833e-06	7.8e-09	2.5956e-08
1.8486e-06	7.8e-09	2.3484e-08
1.8642e-06	7.8e-09	2.1424e-08
1.8798e-06	7.8e-09	1.854e-08
1.8954e-06	7.8e-09	1.7716e-08
1.911e-06	7.8e-09	1.4832e-08
1.9266e-06	7.8e-09	1.236e-08
1.9422e-06	7.8e-09	1.1124e-08
1.9578e-06	7.8e-09	8.652e-09
1.9734e-06	7.8e-09	6.592e-09
1.989e-06	7.8e-09	6.592e-09
2.0046e-06	7.8e-09	6.18e-09
2.0202e-06	7.8e-09	5.356e-09
2.0358e-06	7.8e-09	5.356e-09
2.0514e-06	7.8e-09	3.296e-09
2.067e-06	7.8e-09	5.356e-09
2.0826e-06	7.8e-09	4.532e-09
2.0982e-06	7.8e-09	4.532e-09
2.1138e-06	7.8e-09	5.356e-09
2.1294e-06	7.8e-09	7.004e-09
2.145e-06	7.8e-09	6.592e-09
2.1606e-06	7.8e-09	6.592e-09
2.1762e-06	7.8e-09	8.24e-09
2.1918e-06	7.8e-09	8.24e-09
2.2074e-06	7.8e-09	9.476e-09
2.223e-06	7.8e-09	1.0712e-08
2.2386e-06	7.8e-09	1.1948e-08
2.2542e-06	7.8e-09	1.4008e-08
2.2698e-06	7.8e-09	1.4832e-08
2.2854e-06	7.8e-09	1.6068e-08
2.301e-06	7.8e-09	1.7304e-08
2.3166e-06	7.8e-09	1.8952e-08
2.3322e-06	7.8e-09	1.8952e-08
2.3478e-06	7.8e-09	1.9776e-08
2.3634e-06	7.8e-09	1.7716e-08
2.379e-06	7.8e-09	1.5656e-08
2.3946e-06	7.8e-09	1.648e-08
2.4102e-06	7.8e-09	1.6068e-08
2.4258e-06	7.8e-09	1.442e-08
2.4414e-06	7.8e-09	1.1948e-08
2.457e-06	7.8e-09	1.0712e-08
2.4726e-06	7.8e-09	1.0712e-08
2.4882e-06	7.8e-09	1.1536e-08
2.5038e-06	7.8e-09	1.1124e-08
2.5194e-06	7.8e-09	1.03e-08
2.535e-06	7.8e-09	9.888e-09
2.5506e-06	7.8e-09	1.1124e-08
2.5662e-06	7.8e-09	9.064e-09
2.5818e-06	7.8e-09	7.004e-09
2.5974e-06	7.8e-09	8.24e-09
2.613e-06	7.8e-09	5.356e-09
2.6286e-06	7.8e-09	4.12e-09
2.6442e-06	7.8e-09	4.12e-09
2.6598e-06	7.8e-09	3.296e-09
2.6754e-06	7.8e-09	3.296e-09
2.691e-06	7.8e-09	2.884e-09
2.7066e-06	7.8e-09	2.472e-09
2.7222e-06	7.8e-09	2.472e-09
2.7378e-06	7.8e-09	2.884e-09
2.7534e-06	7.8e-09	3.296e-09
2.769e-06	7.8e-09	4.532e-09
2.7846e-06	7.8e-09	4.944e-09
2.8002e-06	7.8e-09	4.12e-09
2.8158e-06	7.8e-09	5.356e-09
2.8314e-06	7.8e-09	3.296e-09
2.847e-06	7.8e-09	4.944e-09
2.8626e-06	7.8e-09	5.356e-09
2.8782e-06	7.8e-09	7.004e-09
2.8938e-06	7.8e-09	8.24e-09
2.9094e-06	7.8e-09	9.888e-09
2.925e-06	7.8e-09	8.652e-09
2.9406e-06	7.8e-09	9.888e-09
2.9562e-06	7.8e-09	1.1124e-08
2.9718e-06	7.8e-09	1.236e-08
2.9874e-06	7.8e-09	1.4008e-08
3.003e-06	7.8e-09	1.2772e-08
3.0186e-06	7.8e-09	8.652e-09
3.0342e-06	7.8e-09	6.18e-09
3.0498e-06	7.8e-09	4.532e-09
3.0654e-06	7.8e-09	4.532e-09
3.081e-06	7.8e-09	4.12e-09
3.0966e-06	7.8e-09	3.296e-09
3.1122e-06	7.8e-09	4.12e-09
3.1278e-06	7.8e-09	2.472e-09
3.1434e-06	7.8e-09	6.18e-09
3.159e-06	7.8e-09	5.768e-09
3.1746e-06	7.8e-09	4.944e-09
3.1902e-06	7.8e-09	7.828e-09
3.2058e-06	7.8e-09	1.03e-08
3.2214e-06	7.8e-09	8.24e-09
3.237e-06	7.8e-09	1.1124e-08
3.2526e-06	7.8e-09	1.0712e-08
3.2682e-06	7.8e-09	1.1536e-08
3.2838e-06	7.8e-09	1.5656e-08
3.2994e-06	7.8e-09	1.3596e-08
3.315e-06	7.8e-09	1.5244e-08
3.3306e-06	7.8e-09	1.5244e-08
3.3462e-06	7.8e-09	1.7304e-08
3.3618e-06	7.8e-09	1.648e-08
3.3774e-06	7.8e-09	1.6068e-08
3.393e-06	7.8e-09	1.7304e-08
3.4086e-06	7.8e-09	2.0188e-08
3.4242e-06	7.8e-09	2.1012e-08
3.4398e-06	7.8e-09	2.1012e-08
3.4554e-06	7.8e-09	2.2248e-08
3.471e-06	7.8e-09	2.3484e-08
3.4866e-06	7.8e-09	2.3896e-08
3.5022e-06	7.8e-09	2.5132e-08
3.5178e-06	7.8e-09	2.5544e-08
3.5334e-06	7.8e-09	2.5956e-08
3.549e-06	7.8e-09	2.884e-08
3.5646e-06	7.8e-09	3.09e-08
3.5802e-06	7.8e-09	2.9252e-08
3.5958e-06	7.8e-09	3.1724e-08
3.6114e-06	7.8e-09	3.4196e-08
3.627e-06	7.8e-09	3.4608e-08
3.6426e-06	7.8e-09	3.3372e-08
3.6582e-06	7.8e-09	3.7904e-08
3.6738e-06	7.8e-09	3.7904e-08
3.6894e-06	7.8e-09	3.8728e-08
3.705e-06	7.8e-09	3.8728e-08
3.7206e-06	7.8e-09	3.9964e-08
3.7362e-06	7.8e-09	3.9552e-08
3.7518e-06	7.8e-09	3.9964e-08
3.7674e-06	7.8e-09	4.0788e-08
3.783e-06	7.8e-09	4.12e-08
3.7986e-06	7.8e-09	4.1612e-08
3.8142e-06	7.8e-09	4.4084e-08
3.8298e-06	7.8e-09	4.2436e-08
3.8454e-06	7.8e-09	4.12e-08
3.861e-06	7.8e-09	4.0788e-08
3.8766e-06	7.8e-09	4.0788e-08
3.8922e-06	7.8e-09	4.1612e-08
3.9078e-06	7.8e-09	4.0788e-08
3.9234e-06	7.8e-09	4.12e-08
3.939e-06	7.8e-09	3.914e-08
3.9546e-06	7.8e-09	4.1612e-08
3.9702e-06	7.8e-09	4.1612e-08
3.9858e-06	7.8e-09	4.326e-08
4.0014e-06	7.8e-09	4.3672e-08
4.017e-06	7.8e-09	4.6144e-08
4.0326e-06	7.8e-09	4.4908e-08
4.0482e-06	7.8e-09	4.6144e-08
4.0638e-06	7.8e-09	4.8616e-08
4.0794e-06	7.8e-09	4.6968e-08
4.095e-06	7.8e-09	4.7792e-08
4.1106e-06	7.8e-09	5.0264e-08
4.1262e-06	7.8e-09	5.0264e-08
4.1418e-06	7.8e-09	5.356e-08
4.1574e-06	7.8e-09	5.3148e-08
4.173e-06	7.8e-09	5.4796e-08
4.1886e-06	7.8e-09	5.3972e-08
4.2042e-06	7.8e-09	5.6444e-08
4.2198e-06	7.8e-09	5.6032e-08
4.2354e-06	7.8e-09	5.4384e-08
4.251e-06	7.8e-09	5.7268e-08
4.2666e-06	7.8e-09	5.4796e-08
4.2822e-06	7.8e-09	4.944e-08
4.2978e-06	7.8e-09	4.5732e-08
4.3134e-06	7.8e-09	4.2848e-08
4.329e-06	7.8e-09	4.0788e-08
4.3446e-06	7.8e-09	3.7492e-08
4.3602e-06	7.8e-09	3.5432e-08
4.3758e-06	7.8e-09	2.8016e-08
4.3914e-06	7.8e-09	2.266e-08
4.407e-06	7.8e-09	2.06e-08
4.4226e-06	7.8e-09	1.9364e-08
4.4382e-06	7.8e-09	1.5656e-08
4.4538e-06	7.8e-09	1.3184e-08
4.4694e-06	7.8e-09	1.03e-08
4.485e-06	7.8e-09	8.24e-09
4.5006e-06	7.8e-09	7.416e-09
4.5162e-06	7.8e-09	7.004e-09
4.5318e-06	7.8e-09	4.532e-09
4.5474e-06	7.8e-09	2.06e-09
4.563e-06	7.8e-09	1.648e-09
4.5786e-06	7.8e-09	1.648e-09
4.5942e-06	7.8e-09	1.236e-09
4.6098e-06	7.8e-09	2.472e-09
4.6254e-06	7.8e-09	2.472e-09
4.641e-06	7.8e-09	2.472e-09
4.6566e-06	7.8e-09	2.884e-09
4.6722e-06	7.8e-09	4.532e-09
4.6878e-06	7.8e-09	6.18e-09
4.7034e-06	7.8e-09	9.064e-09
4.719e-06	7.8e-09	9.064e-09
4.7346e-06	7.8e-09	1.1948e-08
4.7502e-06	7.8e-09	1.3184e-08
4.7658e-06	7.8e-09	1.2772e-08
4.7814e-06	7.8e-09	1.4832e-08
4.797e-06	7.8e-09	1.5244e-08
4.8126e-06	7.8e-09	1.5656e-08
4.8282e-06	7.8e-09	1.5656e-08
4.8438e-06	7.8e-09	1.5244e-08
4.8594e-06	7.8e-09	1.442e-08
4.875e-06	7.8e-09	1.1948e-08
4.8906e-06	7.8e-09	1.1124e-08
4.9062e-06	7.8e-09	9.476e-09
4.9218e-06	7.8e-09	8.24e-09
4.9374e-06	7.8e-09	8.24e-09
4.953e-06	7.8e-09	1.0712e-08
4.9686e-06	7.8e-09	6.592e-09
4.9842e-06	7.8e-09	4.12e-09
4.9998e-06	7.8e-09	2.884e-09
5.0154e-06	7.8e-09	2.472e-09
5.031e-06	7.8e-09	1.648e-09
5.0466e-06	7.8e-09	2.472e-09
5.0622e-06	7.8e-09	2.06e-09
5.0778e-06	7.8e-09	2.884e-09
5.0934e-06	7.8e-09	2.472e-09
5.109e-06	7.8e-09	5.356e-09
5.1246e-06	7.8e-09	5.356e-09
5.1402e-06	7.8e-09	6.18e-09
5.1558e-06	7.8e-09	5.356e-09
5.1714e-06	7.8e-09	3.296e-09
5.187e-06	7.8e-09	2.884e-09
5.2026e-06	7.8e-09	2.884e-09
5.2182e-06	7.8e-09	3.708e-09
5.2338e-06	7.8e-09	3.708e-09
5.2494e-06	7.8e-09	2.884e-09
5.265e-06	7.8e-09	5.356e-09
5.2806e-06	7.8e-09	6.18e-09
5.2962e-06	7.8e-09	5.768e-09
5.3118e-06	7.8e-09	6.592e-09
5.3274e-06	7.8e-09	7.416e-09
5.343e-06	7.8e-09	7.828e-09
5.3586e-06	7.8e-09	9.064e-09
5.3742e-06	7.8e-09	1.1948e-08
5.3898e-06	7.8e-09	1.1536e-08
5.4054e-06	7.8e-09	1.236e-08
5.421e-06	7.8e-09	7.828e-09
5.4366e-06	7.8e-09	7.416e-09
5.4522e-06	7.8e-09	7.828e-09
5.4678e-06	7.8e-09	6.592e-09
5.4834e-06	7.8e-09	7.004e-09
5.499e-06	7.8e-09	7.416e-09
5.5146e-06	7.8e-09	4.532e-09
5.5302e-06	7.8e-09	5.356e-09
5.5458e-06	7.8e-09	4.944e-09
5.5614e-06	7.8e-09	6.18e-09
5.577e-06	7.8e-09	7.004e-09
5.5926e-06	7.8e-09	5.356e-09
5.6082e-06	7.8e-09	6.18e-09
5.6238e-06	7.8e-09	8.24e-09
5.6394e-06	7.8e-09	9.476e-09
5.655e-06	7.8e-09	1.1124e-08
5.6706e-06	7.8e-09	1.1536e-08
5.6862e-06	7.8e-09	1.4008e-08
5.7018e-06	7.8e-09	1.2772e-08
5.7174e-06	7.8e-09	1.3596e-08
5.733e-06	7.8e-09	1.4008e-08
5.7486e-06	7.8e-09	1.4832e-08
5.7642e-06	7.8e-09	1.5244e-08
5.7798e-06	7.8e-09	1.5244e-08
5.7954e-06	7.8e-09	1.5244e-08
5.811e-06	7.8e-09	1.648e-08
5.8266e-06	7.8e-09	1.7716e-08
5.8422e-06	7.8e-09	1.8128e-08
5.8578e-06	7.8e-09	1.854e-08
5.8734e-06	7.8e-09	1.8952e-08
5.889e-06	7.8e-09	1.7304e-08
5.9046e-06	7.8e-09	1.7304e-08
5.9202e-06	7.8e-09	1.7716e-08
5.9358e-06	7.8e-09	1.5656e-08
5.9514e-06	7.8e-09	1.648e-08
5.967e-06	7.8e-09	1.648e-08
5.9826e-06	7.8e-09	1.7304e-08
5.9982e-06	7.8e-09	1.854e-08
6.0138e-06	7.8e-09	1.7304e-08
6.0294e-06	7.8e-09	1.8128e-08
6.045e-06	7.8e-09	1.7716e-08
6.0606e-06	7.8e-09	1.7304e-08
6.0762e-06	7.8e-09	1.7304e-08
6.0918e-06	7.8e-09	1.7716e-08
6.1074e-06	7.8e-09	1.5656e-08
6.123e-06	7.8e-09	1.5656e-08
6.1386e-06	7.8e-09	1.7304e-08
6.1542e-06	7.8e-09	1.4008e-08
6.1698e-06	7.8e-09	1.2772e-08
6.1854e-06	7.8e-09	1.236e-08
6.201e-06	7.8e-09	1.1536e-08
6.2166e-06	7.8e-09	9.888e-09
6.2322e-06	7.8e-09	9.476e-09
6.2478e-06	7.8e-09	8.652e-09
6.2634e-06	7.8e-09	9.476e-09
6.279e-06	7.8e-09	8.652e-09
6.2946e-06	7.8e-09	1.03e-08
6.3102e-06	7.8e-09	9.064e-09
6.3258e-06	7.8e-09	9.476e-09
6.3414e-06	7.8e-09	1.0712e-08
6.357e-06	7.8e-09	1.1948e-08
6.3726e-06	7.8e-09	1.1948e-08
6.3882e-06	7.8e-09	1.1536e-08
6.4038e-06	7.8e-09	1.236e-08
6.4194e-06	7.8e-09	1.2772e-08
6.435e-06	7.8e-09	1.4008e-08
6.4506e-06	7.8e-09	1.2772e-08
6.4662e-06	7.8e-09	1.4008e-08
6.4818e-06	7.8e-09	1.5244e-08
6.4974e-06	7.8e-09	1.7716e-08
6.513e-06	7.8e-09	1.7304e-08
6.5286e-06	7.8e-09	1.8128e-08
6.5442e-06	7.8e-09	2.0188e-08
6.5598e-06	7.8e-09	2.2248e-08
6.5754e-06	7.8e-09	2.2248e-08
6.591e-06	7.8e-09	2.3072e-08
6.6066e-06	7.8e-09	2.5956e-08
6.6222e-06	7.8e-09	2.7604e-08
6.6378e-06	7.8e-09	2.7192e-08
6.6534e-06	7.8e-09	2.9664e-08
6.669e-06	7.8e-09	3.0076e-08
6.6846e-06	7.8e-09	3.1724e-08
6.7002e-06	7.8e-09	3.1724e-08
6.7158e-06	7.8e-09	3.2136e-08
6.7314e-06	7.8e-09	3.5432e-08
6.747e-06	7.8e-09	3.708e-08
6.7626e-06	7.8e-09	3.8728e-08
6.7782e-06	7.8e-09	3.9964e-08
6.7938e-06	7.8e-09	3.9552e-08
6.8094e-06	7.8e-09	4.0376e-08
6.825e-06	7.8e-09	4.2848e-08
6.8406e-06	7.8e-09	4.4084e-08
6.8562e-06	7.8e-09	4.4908e-08
6.8718e-06	7.8e-09	4.5732e-08
6.8874e-06	7.8e-09	4.6968e-08
6.903e-06	7.8e-09	4.7792e-08
6.9186e-06	7.8e-09	4.8616e-08
6.9342e-06	7.8e-09	5.0676e-08
6.9498e-06	7.8e-09	5.0676e-08
6.9654e-06	7.8e-09	4.8616e-08
6.981e-06	7.8e-09	4.738e-08
6.9966e-06	7.8e-09	4.532e-08
7.0122e-06	7.8e-09	4.2848e-08
7.0278e-06	7.8e-09	4.2024e-08
7.0434e-06	7.8e-09	3.7492e-08
7.059e-06	7.8e-09	3.6256e-08
7.0746e-06	7.8e-09	3.296e-08
7.0902e-06	7.8e-09	3.2136e-08
7.1058e-06	7.8e-09	3.296e-08
7.1214e-06	7.8e-09	3.4196e-08
7.137e-06	7.8e-09	3.5432e-08
7.1526e-06	7.8e-09	3.7492e-08
7.1682e-06	7.8e-09	3.6256e-08
7.1838e-06	7.8e-09	3.8316e-08
7.1994e-06	7.8e-09	3.9552e-08
7.215e-06	7.8e-09	3.708e-08
7.2306e-06	7.8e-09	3.8728e-08
7.2462e-06	7.8e-09	3.9552e-08
7.2618e-06	7.8e-09	4.12e-08
7.2774e-06	7.8e-09	4.4496e-08
7.293e-06	7.8e-09	4.3672e-08
7.3086e-06	7.8e-09	4.4084e-08
7.3242e-06	7.8e-09	4.4496e-08
7.3398e-06	7.8e-09	4.532e-08
7.3554e-06	7.8e-09	4.5732e-08
7.371e-06	7.8e-09	4.738e-08
7.3866e-06	7.8e-09	4.6968e-08
7.4022e-06	7.8e-09	4.7792e-08
7.4178e-06	7.8e-09	4.944e-08
7.4334e-06	7.8e-09	5.1088e-08
7.449e-06	7.8e-09	4.738e-08
7.4646e-06	7.8e-09	4.8616e-08
7.4802e-06	7.8e-09	4.6556e-08
7.4958e-06	7.8e-09	4.6144e-08
7.5114e-06	7.8e-09	4.5732e-08
7.527e-06	7.8e-09	4.6556e-08
7.5426e-06	7.8e-09	4.6556e-08
7.5582e-06	7.8e-09	4.4084e-08
7.5738e-06	7.8e-09	4.2436e-08
7.5894e-06	7.8e-09	4.0788e-08
7.605e-06	7.8e-09	3.8316e-08
7.6206e-06	7.8e-09	3.502e-08
7.6362e-06	7.8e-09	3.1724e-08
7.6518e-06	7.8e-09	2.8016e-08
7.6674e-06	7.8e-09	2.3896e-08
7.683e-06	7.8e-09	2.1424e-08
7.6986e-06	7.8e-09	2.1012e-08
7.7142e-06	7.8e-09	1.7304e-08
7.7298e-06	7.8e-09	1.442e-08
7.7454e-06	7.8e-09	1.1124e-08
7.761e-06	7.8e-09	9.888e-09
7.7766e-06	7.8e-09	6.592e-09
7.7922e-06	7.8e-09	6.18e-09
"""

def test_surfaceFlatTableXMLGenerationAndConversion():
    znteDataFile=get_test_file("tests","data","znte.npy")
    znteData=np.load(znteDataFile)
    with StringIO(firstROWXYZ) as f:
        firstROW=pd.read_csv(f, sep="\t")
    XVect=np.array(firstROW['X'])
    YVect=np.array(firstROW['X'])
    ZData=SiRealList(data=znteData,unit=r'\metre',label='z')
    XData = SiRealList(data=XVect, unit=r'\metre', label='x')
    YData = SiRealList(data=YVect, unit=r'\metre', label='y')

    ZQuantity=DccQuantityType(data=ZData,
                              id='U'+str(uuid.uuid4()),
                              name={
                                  'en':'ZnTe epitaxial film surface',
                                  'de':'ZnTe epitaktische Schichtoberfläche'})
    XQuantity=DccQuantityType(data=XData,
                              id='U'+str(uuid.uuid4()),
                              name={
                                  'en':'X-Position',
                                  'de':'X-Position'},
                              )

    YQuantity=DccQuantityType(data=YData,
                              id='U'+str(uuid.uuid4()),
                              name={
                                  'en':'Y-Position',
                                  'de':'Y-Position'},
                              )
    # all data is in m
    tableName=DccName({'de':'Beispiel Falt-Table mit topographie Daten','en':'Example table with topography data.'})
    surfaceFlattTable=DccFlatTable({0:XQuantity,1:YQuantity},[ZQuantity],2,name=tableName)
    xmlFile=get_test_file("tests","data","minimalDCC_3_3_0_Template.xml")
    dummyXMLDict,warnings=XMLToDict(xmlFile)
    jsonDictOfTable=surfaceFlattTable.toJsonDict()
    testXMLOut,convertedEleemnt,errors=DictToXML(dummyXMLDict)
    dummyXMLDict['dcc:measurementResults']['dcc:measurementResult'][0]['dcc:results']['dcc:result'][0]['dcc:data']=jsonDictOfTable
    #del dummyXMLDict['dcc:measurementResults']['dcc:measurementResult'][0]['dcc:results']['dcc:result'][0]['dcc:data']['dcc:quantity']
    xmlSTr,convertedEleemnt,errors=DictToXML(dummyXMLDict)
    assert xmlSTr!=''
    assert len(errors)==0