{"version":3,"file":"App.controller.js","names":["BaseController","_interopRequireDefault","__BaseController","App","extend","onInit","_onInit","this","getView","addStyleClass","getOwnerComponent","getContentDensityClass","Device","resize","width","onSideNavButtonPress","environment","window","backendBaseUrl","location","origin","slice","lastIndexOf","globalData","appVersion","globalModel","JSONModel","setModel","getBundleText","_getBundleText","sI18nKey","aPlaceholderValues","Promise","resolve","getBundleTextByModel","getModel","_onSideNavButtonPress","console","log","oToolPage","byId","bSideExpanded","getSideExpanded","setSideExpanded","_setToggleButtonTooltip","async","oToggleButton","setTooltip"],"sources":["App.controller.ts"],"sourcesContent":["import BaseController from \"./BaseController\";\nimport Device from \"sap/ui/Device\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport ToolPage from \"sap/tnt/ToolPage\";\nimport ResourceModel from \"sap/ui/model/resource/ResourceModel\";\n\n/**\n * @namespace com.optrabot.ui.controller\n */\nexport default class App extends BaseController {\n\tpublic onInit(): void {\n\t\t// apply content density mode to root view\n\t\tthis.getView().addStyleClass(this.getOwnerComponent().getContentDensityClass());\n\n\t\t// if the app starts on desktop devices with small or medium screen size, collaps the side navigation\n\t\tif (Device.resize.width <= 1024) {\n\t\t\tthis.onSideNavButtonPress();\n\t\t}\n\n\t\tvar environment = (window as any).environment || \"PROD\";\n\t\tvar backendBaseUrl = \"\";\n\t\tbackendBaseUrl = window.location.origin;\n\t\tif (environment !== \"PROD\") {\n\t\t\t// In development the backend uses a different port\n\t\t\tbackendBaseUrl = backendBaseUrl.slice(0, backendBaseUrl.lastIndexOf(\":\"));\n\t\t\tbackendBaseUrl = backendBaseUrl+ \":8080\"\n\t\t}\n\t\tconst globalData = {\n\t\t\t\"backendBaseUrl\": backendBaseUrl,\n\t\t\t\"appVersion\": \"1.0.0\"\n\t\t};\n\t\tconst globalModel = new JSONModel(globalData);\n\t\tthis.getOwnerComponent().setModel(globalModel, \"global\");\n\t}\n\t\n\tpublic getBundleText(sI18nKey: string, aPlaceholderValues?: string[]): Promise<string> {\n\t\treturn Promise.resolve(this.getBundleTextByModel(sI18nKey, this.getOwnerComponent().getModel(\"i18n\") as ResourceModel, aPlaceholderValues));\n\t}\n\n\tpublic onSideNavButtonPress(): void {\n\t\tconsole.log(\"SideNavButton pressed\");\n\t\tconst oToolPage = this.byId(\"optrabot_app\") as ToolPage;\n\t\tvar bSideExpanded = oToolPage.getSideExpanded();\n\t\toToolPage.setSideExpanded(!bSideExpanded);\n\t\tthis._setToggleButtonTooltip(!bSideExpanded);\n\t}\n\n\tpublic async _setToggleButtonTooltip(bSideExpanded: boolean): Promise<void> {\n\t\tconst oToggleButton = this.byId(\"sideNavigationToggleButton\");\n\t\tif (bSideExpanded) {\n\t\t\toToggleButton.setTooltip(await this.getBundleText(\"sideNavigationCollapseTooltip\"));\n\t\t} else {\n\t\t\toToggleButton.setTooltip(await this.getBundleText(\"sideNavigationExpandTooltip\"));\n\t\t}\n\t}\n}\n"],"mappings":"kNAAOA,EAAcC,EAAAC,GAMrB,MAGqBC,EAAYH,EAAcI,OAAA,kCACvCC,OAAM,SAAAC,IAEZC,KAAKC,UAAUC,cAAcF,KAAKG,oBAAoBC,0BAGtD,GAAIC,EAAOC,OAAOC,OAAS,KAAM,CAChCP,KAAKQ,sBACN,CAEA,IAAIC,EAAeC,OAAeD,aAAe,OACjD,IAAIE,EAAiB,GACrBA,EAAiBD,OAAOE,SAASC,OACjC,GAAIJ,IAAgB,OAAQ,CAE3BE,EAAiBA,EAAeG,MAAM,EAAGH,EAAeI,YAAY,MACpEJ,EAAiBA,EAAgB,OAClC,CACA,MAAMK,EAAa,CAClBL,eAAkBA,EAClBM,WAAc,SAEf,MAAMC,EAAc,IAAIC,EAAUH,GAClChB,KAAKG,oBAAoBiB,SAASF,EAAa,SAChD,EAEOG,cAAa,SAAAC,EAACC,EAAkBC,GACtC,OAAOC,QAAQC,QAAQ1B,KAAK2B,qBAAqBJ,EAAUvB,KAAKG,oBAAoByB,SAAS,QAA0BJ,GACxH,EAEOhB,qBAAoB,SAAAqB,IAC1BC,QAAQC,IAAI,yBACZ,MAAMC,EAAYhC,KAAKiC,KAAK,gBAC5B,IAAIC,EAAgBF,EAAUG,kBAC9BH,EAAUI,iBAAiBF,GAC3BlC,KAAKqC,yBAAyBH,EAC/B,EAEaG,wBAAuBC,eAAAD,EAACH,GACpC,MAAMK,EAAgBvC,KAAKiC,KAAK,8BAChC,GAAIC,EAAe,CAClBK,EAAcC,iBAAiBxC,KAAKqB,cAAc,iCACnD,KAAO,CACNkB,EAAcC,iBAAiBxC,KAAKqB,cAAc,+BACnD,CACD,IAAC,OA7CmBzB,CAAG","ignoreList":[]}