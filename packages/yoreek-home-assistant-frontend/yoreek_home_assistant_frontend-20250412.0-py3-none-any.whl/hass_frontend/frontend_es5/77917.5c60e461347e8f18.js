"use strict";(self.webpackChunkyoreek_home_assistant_frontend=self.webpackChunkyoreek_home_assistant_frontend||[]).push([["77917"],{85746:function(e,t,n){n.d(t,{V:()=>i});var s=n(87733);const i=(e,t)=>(e=>{switch(e){case"de":case"lb":return!0;default:return!1}})(t)?(0,s.f)(e):e.toLocaleLowerCase(t)},29095:function(e,t,n){n.a(e,(async function(e,t){try{var s=n(61701),i=(n(71695),n(47021),n(57243)),o=n(50778),a=(n(59826),n(17170)),r=(n(37583),e([a]));a=(r.then?(await r)():r)[0];let c,l,u,d,h,m,_=e=>e;const b="M2.2,16.06L3.88,12L2.2,7.94L6.26,6.26L7.94,2.2L12,3.88L16.06,2.2L17.74,6.26L21.8,7.94L20.12,12L21.8,16.06L17.74,17.74L16.06,21.8L12,20.12L7.94,21.8L6.26,17.74L2.2,16.06M13,17V15H11V17H13M13,13V7H11V13H13Z",g="M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z";(0,s.Z)([(0,o.Mo)("ha-progress-button")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.Cb)()],key:"label",value:void 0},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"disabled",value(){return!1}},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"progress",value(){return!1}},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"raised",value(){return!1}},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"unelevated",value(){return!1}},{kind:"field",decorators:[(0,o.SB)()],key:"_result",value:void 0},{kind:"method",key:"render",value:function(){const e=this._result||this.progress;return(0,i.dy)(c||(c=_` <ha-button .raised="${0}" .label="${0}" .unelevated="${0}" .disabled="${0}" class="${0}"> <slot name="icon" slot="icon"></slot> <slot></slot> </ha-button> ${0} `),this.raised,this.label,this.unelevated,this.disabled||this.progress,this._result||"",e?(0,i.dy)(l||(l=_` <div class="progress"> ${0} </div> `),"success"===this._result?(0,i.dy)(u||(u=_`<ha-svg-icon .path="${0}"></ha-svg-icon>`),g):"error"===this._result?(0,i.dy)(d||(d=_`<ha-svg-icon .path="${0}"></ha-svg-icon>`),b):this.progress?(0,i.dy)(h||(h=_`<ha-spinner size="small"></ha-spinner>`)):i.Ld):i.Ld)}},{kind:"method",key:"actionSuccess",value:function(){this._setResult("success")}},{kind:"method",key:"actionError",value:function(){this._setResult("error")}},{kind:"method",key:"_setResult",value:function(e){this._result=e,setTimeout((()=>{this._result=void 0}),2e3)}},{kind:"field",static:!0,key:"styles",value(){return(0,i.iv)(m||(m=_`:host{outline:0;display:inline-block;position:relative;pointer-events:none}ha-button{transition:all 1s;pointer-events:initial}ha-button.success{--mdc-theme-primary:white;background-color:var(--success-color);transition:none;border-radius:4px;pointer-events:none}ha-button[raised].success,ha-button[unelevated].success{--mdc-theme-primary:var(--success-color);--mdc-theme-on-primary:white}ha-button.error{--mdc-theme-primary:white;background-color:var(--error-color);transition:none;border-radius:4px;pointer-events:none}ha-button[raised].error,ha-button[unelevated].error{--mdc-theme-primary:var(--error-color);--mdc-theme-on-primary:white}.progress{bottom:4px;position:absolute;text-align:center;top:4px;width:100%}ha-svg-icon{color:#fff}ha-button.error slot,ha-button.success slot{visibility:hidden}:host([destructive]){--mdc-theme-primary:var(--error-color)}`))}}]}}),i.oi);t()}catch(c){t(c)}}))},6280:function(e,t,n){n.a(e,(async function(e,s){try{n.d(t,{Nu:()=>j,V3:()=>H,Vk:()=>h,YA:()=>$,xS:()=>_,zP:()=>O});n(19083),n(71695),n(92745),n(61893),n(84283),n(9359),n(56475),n(1331),n(31526),n(70104),n(52924),n(19423),n(11740),n(92519),n(42179),n(89256),n(24931),n(88463),n(57449),n(19814),n(61006),n(47021);var i=n(73850),o=n(97547),a=n(47194),r=e([o]);o=(r.then?(await r)():r)[0];const c=["climate","humidifier","water_heater"],l=["climate","humidifier","input_datetime","water_heater","person","device_tracker"],u=["temperature","current_temperature","target_temp_low","target_temp_high","hvac_action","humidity","mode","action","current_humidity"],d=(e,t)=>!e.states[t]||l.includes((0,i.M)(t)),h=(e,t,n,s,i)=>{const o={type:"history/stream",entity_ids:i,start_time:n.toISOString(),end_time:s.toISOString(),minimal_response:!0,no_attributes:!i.some((t=>d(e,t)))},a=new m(e);return e.connection.subscribeMessage((e=>t(a.processMessage(e))),o)};class m{constructor(e,t){this.hass=void 0,this.hoursToShow=void 0,this.combinedHistory=void 0,this.hass=e,this.hoursToShow=t,this.combinedHistory={}}processMessage(e){if(!this.combinedHistory||!Object.keys(this.combinedHistory).length)return this.combinedHistory=e.states,this.combinedHistory;if(!Object.keys(e.states).length)return this.combinedHistory;const t=this.hoursToShow?((new Date).getTime()-3600*this.hoursToShow*1e3)/1e3:void 0,n={};for(const s of Object.keys(this.combinedHistory))n[s]=[];for(const s of Object.keys(e.states))n[s]=[];for(const s of Object.keys(n)){if(s in this.combinedHistory&&s in e.states){const t=this.combinedHistory[s],i=t[t.length-1];n[s]=t.concat(e.states[s]),e.states[s][0].lu<i.lu&&(n[s]=n[s].sort(((e,t)=>e.lu-t.lu)))}else s in this.combinedHistory?n[s]=this.combinedHistory[s]:n[s]=e.states[s];if(t&&s in this.combinedHistory){const e=n[s].filter((e=>e.lu<t));if(!e.length)continue;if(n[s]=n[s].filter((e=>e.lu>=t)),n[s].length&&n[s][0].lu===t)continue;const i=e[e.length-1];i.lu=t,n[s].unshift(i)}}return this.combinedHistory=n,this.combinedHistory}}const _=(e,t,n,s,i,o=!0,a=!0)=>{const r={type:"history/stream",entity_ids:s,start_time:new Date((new Date).getTime()-3600*n*1e3).toISOString(),minimal_response:o,significant_changes_only:a,no_attributes:null!=i?i:!s.some((t=>d(e,t)))},c=new m(e,n);return e.connection.subscribeMessage((e=>t(c.processMessage(e))),r)},b=(e,t)=>e.state===t.state&&(!e.attributes||!t.attributes||u.every((n=>e.attributes[n]===t.attributes[n]))),g=(e,t,n,s,i,r,c)=>{const l=[],u=r[0];for(const a of r){if(l.length>0&&a.s===l[l.length-1].state)continue;const r={};null!=c&&c.attributes.device_class&&(r.device_class=null==c?void 0:c.attributes.device_class),l.push({state_localize:(0,o.c)(e,t,[],n,s[i],i,Object.assign(Object.assign({},a.a||u.a),r),a.s),state:a.s,last_changed:1e3*(a.lc?a.lc:a.lu)})}return{name:(0,a.a)(i,(null==c?void 0:c.attributes)||u.a),entity_id:i,data:l}},p=(e,t,n,s)=>{const o=[];return Object.keys(n).forEach((e=>{const t=n[e],r=t[0],l=(0,i.M)(e),d=[];for(const n of t){let e;if(c.includes(l)){e={state:n.s,last_changed:1e3*n.lu,attributes:{}};for(const t of u)t in n.a&&(e.attributes[t]=n.a[t])}else e={state:n.s,last_changed:1e3*(n.lc?n.lc:n.lu),attributes:{}};d.length>1&&b(e,d[d.length-1])&&b(e,d[d.length-2])||d.push(e)}const h=e in s?s[e].attributes:"friendly_name"in r.a?r.a:void 0;o.push({domain:l,name:(0,a.a)(e,h||{}),entity_id:e,states:d})})),{unit:e,device_class:t,identifier:Object.keys(n).join(""),data:o}},v=["counter","input_number","number"],f=e=>v.includes(e),y=e=>"unit_of_measurement"in e||"state_class"in e,k=(e,t)=>null!=e.attributes.device_class&&t.includes(e.attributes.device_class),w=" ",$=(e,t,n,s,i=!1)=>{const o={};n.forEach((e=>{e in t&&(o[e]=t[e])}));const a={};Object.entries(o).forEach((([e,t])=>{const n=t.map((e=>({s:null!=e.mean?e.mean.toString():e.state.toString(),lc:e.start/1e3,a:{},lu:e.start/1e3})));a[e]=n}));const r=j(e,a,[],e.localize,s,i,!0);return((null==r?void 0:r.line)||[]).forEach((e=>{e.data.forEach((e=>{e.statistics=e.states,e.states=[]}))})),r},j=(e,t,n,s,o,a=!1,r=!1)=>{const c={},l=[],u={};if(new Set([...n,...Object.keys(t)]).forEach((n=>{n in t?u[n]=t[n]:e.states[n]&&(u[n]=[{s:e.states[n].state,a:e.states[n].attributes,lu:new Date(e.states[n].last_updated).getTime()/1e3}])})),!u)return{line:[],timeline:[]};Object.keys(u).forEach((t=>{var n;const d=u[t];if(0===d.length)return;const h=(0,i.M)(t),m=t in e.states?e.states[t]:void 0,_=m||f(h)?void 0:d.find((e=>e.a&&y(e.a)));let b;b=O(h,m,_,o,r)?(null==m?void 0:m.attributes.unit_of_measurement)||(null==_?void 0:_.a.unit_of_measurement)||w:{zone:s("ui.dialogs.more_info_control.zone.graph_unit"),climate:e.config.unit_system.temperature,humidifier:"%",water_heater:e.config.unit_system.temperature}[h];const p={climate:"temperature",humidifier:"humidity",water_heater:"temperature"}[h]||(null===(n=(null==m?void 0:m.attributes)||(null==_?void 0:_.a))||void 0===n?void 0:n.device_class),v=L(b,p,a);b?v&&v in c&&t in c[v]?c[v][t].push(...d):v&&(v in c||(c[v]={}),c[v][t]=d):l.push(g(s,e.locale,e.config,e.entities,t,d,m))}));return{line:Object.keys(c).map((t=>{const n=t.split("_"),s=n[0],i=n[1]||void 0;return p(s,i,c[t],e.states)})),timeline:l}},L=(e,t,n)=>n?`${e}_${t||""}`:e,O=(e,t,n,s,i=!1)=>i||f(e)||null!=t&&y(t.attributes)||null!=t&&"sensor"===e&&k(t,s)||null!=n,H=(e,t,n=!0)=>{if(!t)return e;const s=Object.assign(Object.assign({},e),{},{line:[]}),i={};for(const a of e.line){const e=L(a.unit,a.device_class,n);e&&(i[e]={historyItem:a})}for(const a of t.line){const e=L(a.unit,a.device_class,n);e&&(e in i?i[e].ltsItem=a:i[e]={ltsItem:a})}for(const{historyItem:a,ltsItem:r}of Object.values(i)){if(!a||!r){s.line.push(a||r);continue}const e=Object.assign(Object.assign({},a),{},{data:[]}),t=new Set([...a.data.map((e=>e.entity_id)),...r.data.map((e=>e.entity_id))]);for(const n of t){var o;const t=a.data.find((e=>e.entity_id===n)),s=r.data.find((e=>e.entity_id===n));if(!t||!s){e.data.push(t||s);continue}const i=(null===(o=t.states[0])||void 0===o?void 0:o.last_changed)||s.statistics[s.statistics.length-1].last_changed+1,c=[];for(const e of s.statistics){if(e.last_changed>=i)break;c.push(e)}e.data.push(0===c.length?t:Object.assign(Object.assign({},t),{},{statistics:c}))}s.line.push(e)}return s};s()}catch(c){s(c)}}))},25433:function(e,t,n){n.d(t,{MY:()=>p,Yc:()=>m,hb:()=>b,jV:()=>l,o1:()=>_,ri:()=>g,sS:()=>d});n(71695),n(40251),n(19134),n(11740),n(97003),n(88044),n(47021);var s=n(73358),i=n(73850),o=n(59847),a=n(85746),r=n(96194);const c="ui.components.logbook.messages",l=["counter","proximity","sensor","zone"],u={triggered_by_numeric_state_of:"numeric state of",triggered_by_state_of:"state of",triggered_by_event:"event",triggered_by_time_pattern:"time pattern",triggered_by_time:"time",triggered_by_homeassistant_stopping:"Home Assistant stopping",triggered_by_homeassistant_starting:"Home Assistant starting"},d=async(e,t,n)=>h(e,t,void 0,void 0,n),h=(e,t,n,s,i,o)=>{if((s||o)&&(!s||0===s.length)&&(!o||0===o.length))return Promise.resolve([]);const a={type:"logbook/get_events",start_time:t};return n&&(a.end_time=n),null!=s&&s.length&&(a.entity_ids=s),null!=o&&o.length&&(a.device_ids=o),i&&(a.context_id=i),e.callWS(a)},m=(e,t,n,s,i,o)=>{if((i||o)&&(!i||0===i.length)&&(!o||0===o.length))return Promise.reject("No entities or devices");const a={type:"logbook/event_stream",start_time:n,end_time:s};return null!=i&&i.length&&(a.entity_ids=i),null!=o&&o.length&&(a.device_ids=o),e.connection.subscribeMessage((e=>t(e)),a)},_=(e,t)=>({entity_id:e.entity_id,state:t,attributes:{device_class:null==e?void 0:e.attributes.device_class,source_type:null==e?void 0:e.attributes.source_type,has_date:null==e?void 0:e.attributes.has_date,has_time:null==e?void 0:e.attributes.has_time,entity_picture_local:s.iY.has((0,i.M)(e.entity_id))||null==e?void 0:e.attributes.entity_picture_local,entity_picture:s.iY.has((0,i.M)(e.entity_id))||null==e?void 0:e.attributes.entity_picture}}),b=(e,t)=>{for(const n of Object.keys(u)){const s=u[n];if(t.startsWith(s))return t.replace(s,`${e(`ui.components.logbook.${n}`)}`)}return t},g=(e,t,n,i,o)=>{switch(o){case"device_tracker":case"person":return"not_home"===n?t(`${c}.was_away`):"home"===n?t(`${c}.was_at_home`):t(`${c}.was_at_state`,{state:n});case"sun":return t("above_horizon"===n?`${c}.rose`:`${c}.set`);case"binary_sensor":{const o=n===s.uo,r=n===s.lC,l=i.attributes.device_class;if(l&&(o||r))return t(`${c}.${o?"detected_device_classes":"cleared_device_classes"}.${l}`,{device_class:(0,a.V)(t(`component.binary_sensor.entity_component.${l}.name`)||l,e.language)})||t(`${c}.${o?"detected_device_class":"cleared_device_class"}`,{device_class:(0,a.V)(t(`component.binary_sensor.entity_component.${l}.name`)||l,e.language)});break}case"cover":switch(n){case"open":return t(`${c}.was_opened`);case"opening":return t(`${c}.is_opening`);case"closing":return t(`${c}.is_closing`);case"closed":return t(`${c}.was_closed`)}break;case"event":return t(`${c}.detected_event_no_type`);case"lock":switch(n){case"unlocked":return t(`${c}.was_unlocked`);case"locking":return t(`${c}.is_locking`);case"unlocking":return t(`${c}.is_unlocking`);case"opening":return t(`${c}.is_opening`);case"open":return t(`${c}.is_opened`);case"locked":return t(`${c}.was_locked`);case"jammed":return t(`${c}.is_jammed`)}}return n===s.uo?t(`${c}.turned_on`):n===s.lC?t(`${c}.turned_off`):n===r.lz?t(`${c}.became_unknown`):n===r.nZ?t(`${c}.became_unavailable`):e.localize(`${c}.changed_to_state`,{state:i?e.formatEntityState(i,n):n})},p=e=>"sensor"!==(0,o.N)(e)||void 0===e.attributes.unit_of_measurement&&void 0===e.attributes.state_class},81530:function(e,t,n){n.a(e,(async function(e,s){try{n.d(t,{Fb:()=>f,Gt:()=>y,Og:()=>h,PG:()=>v,kh:()=>u,l:()=>b,oA:()=>d,tm:()=>g,uq:()=>_});n(19083),n(61006);var i=n(72344),o=n(73850),a=n(3582),r=n(25433),c=n(6280),l=e([c]);c=(l.then?(await l)():l)[0];const u=["camera","configurator"],d=["scene","automation"],h=["script"],m=["alarm_control_panel","cover","climate","conversation","fan","humidifier","input_boolean","light","lock","siren","script","switch","valve","water_heater","weather"],_=["update"],b=["alarm_control_panel","automation","camera","climate","configurator","conversation","counter","cover","date","datetime","fan","group","humidifier","image","input_boolean","input_datetime","lawn_mower","light","lock","media_player","person","remote","script","scene","siren","sun","switch","time","timer","update","vacuum","valve","water_heater","weather"],g=["input_number","input_select","input_text","number","scene","select","text","update","event"],p=["camera","configurator"],v=(e,t)=>(0,i.p)(e,"history")&&!p.includes((0,o.M)(t)),f=(e,t,n=[])=>{if(!(0,i.p)(e,"logbook"))return!1;const s=e.states[t];if(!s)return!1;const a=(0,o.M)(t);return!(r.jV.includes(a)&&(0,c.zP)(a,s,void 0,n)||p.includes(a))},y=e=>{const t=(0,o.M)(e.entity_id);if("group"===t){const t=(0,a.W)(e);return null!=t&&"group"!==t&&m.includes(t)}return m.includes(t)};s()}catch(u){s(u)}}))},88991:function(e,t,n){n.a(e,(async function(e,s){try{n.d(t,{S:()=>c,ST:()=>u,n3:()=>l});n(19083),n(71695),n(40251),n(61006),n(47021);var i=n(59847),o=n(81530),a=e([o]);o=(a.then?(await a)():a)[0];const r={alarm_control_panel:()=>n.e("62410").then(n.bind(n,80875)),automation:()=>n.e("98368").then(n.bind(n,13592)),camera:()=>n.e("11569").then(n.bind(n,17712)),climate:()=>Promise.all([n.e("41258"),n.e("21728")]).then(n.bind(n,5192)),configurator:()=>Promise.all([n.e("46379"),n.e("52430"),n.e("86002")]).then(n.bind(n,10080)),conversation:()=>Promise.all([n.e("46379"),n.e("51229"),n.e("65258")]).then(n.bind(n,93726)),counter:()=>n.e("25510").then(n.bind(n,32441)),cover:()=>n.e("78402").then(n.bind(n,72869)),date:()=>Promise.all([n.e("46379"),n.e("41258"),n.e("38336"),n.e("64836")]).then(n.bind(n,6560)),datetime:()=>Promise.all([n.e("46379"),n.e("41258"),n.e("3134"),n.e("38336"),n.e("74040")]).then(n.bind(n,11348)),fan:()=>n.e("88973").then(n.bind(n,54764)),group:()=>Promise.all([n.e("46379"),n.e("41258"),n.e("99287"),n.e("1916"),n.e("81407")]).then(n.bind(n,96771)),humidifier:()=>n.e("66881").then(n.bind(n,9198)),image:()=>n.e("89870").then(n.bind(n,37093)),input_boolean:()=>n.e("64783").then(n.bind(n,85742)),input_datetime:()=>Promise.all([n.e("46379"),n.e("41258"),n.e("38336"),n.e("73561")]).then(n.bind(n,68377)),lawn_mower:()=>n.e("49").then(n.bind(n,31650)),light:()=>n.e("55815").then(n.bind(n,59031)),lock:()=>n.e("51539").then(n.bind(n,1563)),media_player:()=>Promise.all([n.e("41258"),n.e("8656")]).then(n.bind(n,99091)),person:()=>Promise.all([n.e("35637"),n.e("49554"),n.e("64693")]).then(n.bind(n,86554)),remote:()=>Promise.all([n.e("41258"),n.e("2600")]).then(n.bind(n,92081)),script:()=>Promise.all([n.e("46379"),n.e("24199"),n.e("78943"),n.e("99287"),n.e("52430"),n.e("78823"),n.e("43682")]).then(n.bind(n,74358)),siren:()=>n.e("34404").then(n.bind(n,86534)),sun:()=>n.e("8373").then(n.bind(n,55421)),switch:()=>n.e("50728").then(n.bind(n,56985)),time:()=>Promise.all([n.e("46379"),n.e("41258"),n.e("38336"),n.e("52137")]).then(n.bind(n,16347)),timer:()=>n.e("14597").then(n.bind(n,42971)),update:()=>Promise.all([n.e("5080"),n.e("52430"),n.e("49016"),n.e("33617"),n.e("9524")]).then(n.bind(n,51077)),vacuum:()=>Promise.all([n.e("41258"),n.e("29453")]).then(n.bind(n,61372)),valve:()=>n.e("60455").then(n.bind(n,20973)),water_heater:()=>n.e("80518").then(n.bind(n,60054)),weather:()=>Promise.all([n.e("99287"),n.e("15722"),n.e("85078")]).then(n.bind(n,95818))},c=e=>{const t=(0,i.N)(e);return l(t)},l=e=>o.l.includes(e)?e:o.tm.includes(e)?"hidden":"default",u=e=>{e in r&&r[e]()};s()}catch(r){s(r)}}))},12660:function(e,t,n){n.a(e,(async function(e,s){try{n.r(t),n.d(t,{createBadgeElement:()=>r.JE,createCardElement:()=>c.Z6,createHeaderFooterElement:()=>l.t,createHuiElement:()=>u.w,createRowElement:()=>d.m,importMoreInfoControl:()=>a.ST,showAlertDialog:()=>o.showAlertDialog,showConfirmationDialog:()=>o.showConfirmationDialog,showEnterCodeDialog:()=>i.t,showPromptDialog:()=>o.showPromptDialog});var i=n(17808),o=n(76131),a=n(88991),r=n(27934),c=n(62037),l=n(64830),u=n(52032),d=n(46542),h=e([a,r,c,u,d]);[a,r,c,u,d]=h.then?(await h)():h,s()}catch(m){s(m)}}))}}]);
//# sourceMappingURL=77917.5c60e461347e8f18.js.map